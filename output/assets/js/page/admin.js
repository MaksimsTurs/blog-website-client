import{r as e,j as t,u as n,B as a,C as s,F as r,X as o,P as i,a as l,M as c,L as d,b as u,O as m,c as p,H as _,d as x,E as h,e as g,T as f,f as j,U as v,g as b,h as w,i as y,k as N,l as $,S as E,m as R,n as C,N as A}from"../react.js";const k={get:(e,t)=>JSON.parse(localStorage.getItem(e)||t),set:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},remove:e=>{localStorage.removeItem(e)}},T={baseURL:"https://fuck-putler.vercel.app",formatURL:function(e){return this.baseURL?`${this.baseURL}${e}`:e},formatInit:function(e,t){let n={headers:t||{},body:e||{}};return!e||e instanceof FormData?n:(t||(n.headers={"Content-Type":"application/json"}),t&&!("Content-Type"in t)&&(n.headers={...n.headers,"Content-Type":"application/json"}),{...n,body:JSON.stringify(e)})},get:async function(e,t){const n=await fetch(this.formatURL(e),{headers:this.formatInit(void 0,t).headers}),a=await n.json();if(!n.ok)throw JSON.stringify(a);return await a},post:async function(e,t,n){const a=this.formatInit(t,n),s=await fetch(this.formatURL(e),{method:"POST",body:a.body,headers:a.headers}),r=await s.json();if(!s.ok)throw JSON.stringify(r);return await r}};const I={getOne:function(e){return function(){let e={};return document.cookie.split(/\;/).forEach((t=>{const[n,a]=t.split(/\=/);e={...e,[n.trim()]:a}})),e}()[e]},set:function(e,t){document.cookie=`${e}=${t};path=/;expires=${60*Date.now()*60*24*7};`}},S=e.createContext(void 0);function P({children:n}){const[a,s]=e.useState({isAuthPending:!1,isLoading:!1});return e.useEffect((()=>{!async function(){try{if(!a.user){s({isAuthPending:!0,isLoading:!1});const e=await T.get("/authenticate",{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`}),t=Object.hasOwn(e,"token");s({isAuthPending:!1,isLoading:!1,error:void 0,user:t?e:void 0})}}catch(pe){s({isAuthPending:!1,isLoading:!1,error:void 0,user:void 0})}}()}),[]),t.jsx(S.Provider,{value:{updateUserState:s,userState:a},children:n})}function L(){const[e,t]=n();return{get:t=>e.get(t),set:e=>{const n=Object.entries(e);t((e=>{for(let[t,a]of n)e.set(t,a);return e}))},remove:e=>{t((t=>{for(let n=0;n<e.length;n++)t.delete(e[n]);return t}))}}}let O={isMax:function(e,t){if("string"==typeof t&&e<t.length)return!1},isMin:function(e,t){if("string"==typeof t&&e>t.length)return!1},isPattern:function(e,t){if(!RegExp(e.trim()).test(t))return!1},isEqualWith:function(e,t){if("string"==typeof e&&"string"==typeof t&&e!==t)return!1}},G={};function D(e){const[t,n,a]=e.split(":");return{func:t,value:n,error:a}}function M(e){for(let t=0;t<e.length;t++){const n=e[t];if(n.children.length>0)return M(n.children);const a=n;a.type&&(a.value="")}}function K(t){const[n,a]=e.useState({errors:void 0}),s=e.useRef(null),r=e.useRef(!1);return{submit:function(e){return new Proxy(e,{apply:function(e,n,o){const i=o[0];i.preventDefault(),s.current=i.currentTarget,r.current=!0;const l=Object.fromEntries(new FormData(i.currentTarget).entries()),c=function(e,t){for(let n in e){const a=e[n],s=a[0],r=a[1];if(Array.isArray(r)){const e=[];for(let n in r){if(!r?.[n])continue;const{error:a,func:o,value:i}=D(r[n]);"isEqualWith"===o?(!1===O[o](t[i],t[s])&&e.push(a),G[s]=e[0]||e[e.length-1]||void 0):(!1===O[o](i,t[s])&&e.push(a),G[s]=e[0]||e[e.length-1]||void 0)}}else{if(!a[1])return G;const e=a[0],{func:n,value:s,error:o}=D(r),i=O[n](s,t[e]);if(!(n in O))throw new ReferenceError(`Object 'Check' have no function with name ${n}`);G[e]=void 0===i?void 0:o}}return G}(t,l),d=0===Object.values(c).filter((e=>e)).length;a((e=>({...e,errors:c}))),d&&e(l)}})},reset:function(){if(!r)throw new Error("Form must be submitted first!");M(s.current.children)},formState:n}}const U={form_body:"qa",form_error:"ra",form_button:"sa",form_button_pending:"ta"};function B({onSubmit:e,children:n,errors:s,isPending:r,buttonLabel:o,className:i,title:l,style:c}){const d=r?"Submiting...":o||"Submit",u=r?`${U.form_button_pending} ${U.form_button}`:U.form_button;return t.jsxs("form",{onSubmit:e,className:`${i} flex-column-normal-normal-none`,children:[l?t.jsx("h3",{children:l}):null,t.jsxs("div",{style:c,className:`${U.form_body} main-content-container flex-column-center-center-medium`,children:[n,s&&s.length>0?t.jsx("div",{style:{width:"100%"},children:s.map((e=>t.jsxs("div",{className:`${U.form_error} flex-row-center-center-medium`,children:[t.jsx(a,{size:15}),t.jsx("p",{children:e},e)]})))}):null,o?t.jsx("button",{className:u,disabled:r,children:t.jsx("section",{className:"flex-row-center-center-medium",children:d})}):null]})]})}const V={text_input_container:"Sa",text_input_error_icon:"Ta",text_input_error_text_container:"Ua",text_input_icon_hidden:"Va",text_input:"Wa",text_input_invalid:"Xa"};function H({name:e,defaultValue:n,placeholder:a,errors:r,onInput:o,type:i}){const l=r?.[e]?V.text_input_error_icon:`${V.text_input_error_icon} ${V.text_input_icon_hidden}`,c=r?.[e]?`${V.text_input_invalid} ${V.text_input}`:V.text_input;return t.jsxs("div",{className:V.text_input_container,children:[t.jsx("input",{name:e,defaultValue:n,onInput:o,placeholder:a,type:i||"text",className:c}),t.jsx(s,{className:l}),t.jsx("div",{className:V.text_input_error_text_container,children:t.jsx("span",{children:r?.[e]})})]})}const X={file_input_label:"bc",file_input_text:"cc",file_input_uploaded_asset:"dc",asset_input_buttons:"ec",asset_button:"fc"};function z({name:n,label:a,asset:s,initValue:l,isChange:c,supportedFormats:d}){const[u,m]=e.useState(l),p=e.useRef(null),_=e.useRef(!1),x=L(),h=d||["image/webp","image/jpg","image/png","image/jpeg"],g=()=>{p.current&&(p.current.value=""),m(void 0)};return e.useEffect((()=>{g()}),[c,x.get("is-open")]),t.jsxs(e.Fragment,{children:[t.jsx("input",{ref:p,accept:h.join(","),id:n,name:n,type:"file",onChange:e=>{const t=e.currentTarget.files[0];t.type.search("video")>-1?_.current=!0:_.current=!1,h.includes(t.type)&&(m(URL.createObjectURL(t)),s&&(s.current=t))}}),u?t.jsxs("div",{className:X.file_input_label,children:[_.current?t.jsx("video",{className:X.file_input_uploaded_asset,src:u}):t.jsx("img",{className:X.file_input_uploaded_asset,src:u,alt:"User uploaded avatar"}),t.jsxs("section",{className:`${X.asset_input_buttons} flex-column-normal-normal-medium`,children:[t.jsx("button",{className:`${X.asset_button} flex-row-center-center-none`,type:"button",onClick:g,children:t.jsx(o,{})}),t.jsx("label",{className:`${X.asset_button} flex-row-center-center-none`,htmlFor:n,children:t.jsx(i,{})})]})]}):t.jsx("label",{className:X.file_input_label,htmlFor:n,children:t.jsxs("section",{className:X.file_input_text,children:[t.jsx(r,{}),t.jsx("p",{children:a})]})})]})}function F(e){const t=new FormData;for(let[n,a]of Object.entries(e))t.append(n,a);return t}function q(){const t=e.useContext(S)?.userState.user;let n=[];return{role:function(e){return e.includes(t?.role||"User")||n.push(1),this},equal:function(e,a){return t?.[e]===a&&n.push(1),this},permited:function(){const e=n.length<=0;return n=[],e}}}const J=e.createContext(void 0);function W({children:n}){const[a,s]=e.useState();return t.jsx(J.Provider,{value:{change:s,cache:a},children:n})}const Q={pagination_loader_container:"g_",pagination_loader_button:"h_",loader:"i_"};function Y(){return t.jsxs("div",{className:`${Q.pagination_loader_container} flex-row-center-space-between-none`,children:[t.jsx("div",{style:{width:"4rem"},className:Q.pagination_loader_button}),t.jsxs("div",{className:"flex-row-normal-normal-medium",children:[t.jsx("div",{className:Q.pagination_loader_button}),t.jsx("div",{className:Q.pagination_loader_button}),t.jsx("div",{className:Q.pagination_loader_button}),t.jsx("div",{className:Q.pagination_loader_button}),t.jsx("div",{className:Q.pagination_loader_button})]}),t.jsx("div",{style:{width:"4rem"},className:Q.pagination_loader_button})]})}const Z={data_loader_container:"y",data_loader_avatar:"z",data_loader_animation:"A",loader:"B"};function ee(){return t.jsx("div",{className:Z.data_loader_container,children:[...Array(20)].map(((e,n)=>t.jsx("div",{style:{height:"fit-content",padding:"0.5rem"},className:"main-content-container",children:t.jsxs("div",{className:"flex-column-normal-normal-small",children:[t.jsxs("div",{className:"flex-row-normal-normal-small",children:[t.jsx("div",{className:`${Z.data_loader_avatar} ${Z.data_loader_animation}`}),t.jsxs("div",{style:{width:"100%"},className:"flex-column-normal-normal-small",children:[t.jsx("div",{style:{width:"50%",height:"100%",padding:"0.5rem"},className:Z.data_loader_animation}),t.jsx("div",{style:{width:"75%",height:"1rem",padding:"0.5rem"},className:Z.data_loader_animation})]})]}),t.jsxs("div",{className:"flex-row-normal-normal-small",children:[t.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:Z.data_loader_animation}),t.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:Z.data_loader_animation}),t.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:Z.data_loader_animation})]})]})},Math.random()*n+100)))})}function te(t){const n=t.deps.join("-"),a=t.prev?.join("-"),s=e.useContext(J),r=s?.cache?.[n],o=s?.cache?.[a||"NO_DATA"]?.data;let i=e.useRef(),l=e.useRef(!0);async function c(){const e=s?.cache?.[n]?.data;if(!e&&t.request){s.change((e=>({...e,[n]:{isFetching:!0,isPending:!0,isMutating:!1}})));try{const e=await t.request(t.deps);if(t.noCache)return i.current=e,void s.change((e=>({...e,[n]:{isFetching:!1,isPending:!1,isMutating:!1}})));s.change((t=>({...t,[n]:{data:e,isFetching:!1,isPending:!1,isMutating:!1}})))}catch(pe){s.change((t=>({...t,[n]:{isFetching:!1,isMutating:!1,isPending:!1,error:pe instanceof Error?{code:503,message:"Service Unavailable!"}:JSON.parse(pe)}})))}}else s.change((t=>({...t,[n]:{isFetching:!1,isMutating:!1,isPending:!1,data:e}})));l.current=!1}return e.useEffect((()=>{(t.enabled||void 0===t.enabled)&&c()}),t.deps),{...r,data:t.noCache?i.current:r?.data,isPending:(d=r?.isPending,void 0===d||r.isPending),isFetching:l.current&&!r?.error,prev:o,mutate:async function(e){const{key:n,request:a}=e,r=s?.cache?.[e.key.join("-")];try{s.change((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!0}})));const o=await a({deps:e.key,state:r?.data,removeCache:function(e){s?.change?.((t=>({...t,[e]:{...r,isPending:!1,data:void 0}})))}});if(!o)return;if(t.noCache)return i.current=o,void s?.change?.((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!1}})));s?.change?.((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!1,data:o}})))}catch(pe){s.change((t=>({...t,[n.join("-")]:{...r,isPending:!1,isMutating:!1,error:JSON.parse(pe)}})))}},request:c,changeError:function(e,t){s?.change?.((n=>({...n||{},[e.join("-")]:{...(n||{})?.[e.join("-")]||{},error:t}})))}};var d}function ne(e){return parseInt(String(Math.abs(e)))}const ae={getDifference:function(e){if(!e)return"";const t=function(e,t){const n=e-t;return{second:ne(n/1e3%60),minute:ne(n/1e3/60%60),hour:ne(n/36e5%24),day:ne(n/864e5%9),month:ne(n/6048e5%12),year:ne(n/72576e5%365)}}(Date.parse(e),Date.now());return t.year>0?`${t.year}:${t.month}`:t.month>0?`${t.month} months ${t.day} days ago!`:t.day>0?`${t.day} days ${t.hour} hourse ago!`:t.hour>0?`${t.hour} hourse ago!`:t.minute>0?`${t.minute} minutes ${t.second} seconds ago!`:t.second>0?`${t.second} seconds ago!`:void 0}};function se(e){return Array.isArray(e)?e.map((e=>`${e[0].toUpperCase()}${e.slice(1,-1)}`)):`${e[0].toUpperCase()}${e.slice(1,e.length)}`}const re="mc",oe="nc",ie="oc",le={LINK_REGEXP:/\[(.*?);(.*?)\]/g,IMAGE_REGEXP:/\((.*?);(.*?);?(.*?)\)/g,QUOTE_BRACKETS_REGEXP:/\(?(.*?)\)?\"{2}([^""]+?)\"{2}/gm,BOLD_REGEXP:/#(.*?)#/g,HEADER_REGEXP_1:/#{2}(.*?)#{2}/,HEADER_REGEXP_2:/#{3}(.*?)#{3}/,VIDEO_REGEXP:/\(\[(.+)\]\)/g,DEFAULT_REGEXP:/\[(.*?)\]/g,SQUARE_BRACKETS_REGEXP:/^\[(.*)\]$/g,PAIR_BRACKETS_REGEXP:/\((.*?)\)/g,TAG_BRACKET_REGEXP:/<.*>(.*)<.*>/,HTTPS_PROTOCOL_REGEXP:/((blob:?.+https?)|https):\/{2}/g,HTML_TAG_WITH_HANDLERS_REGEXP:/<.*? on.* .*?>/gm,SCRIPT_TAG_REGEXP:/<script.*?>([\s\S]*?)<\/script>/gm},ce={secureURL:function(e){return le.HTTPS_PROTOCOL_REGEXP.lastIndex=0,le.HTTPS_PROTOCOL_REGEXP.test(e)},secureHTMLTag:function(e){return le.SCRIPT_TAG_REGEXP.lastIndex=0,le.HTML_TAG_WITH_HANDLERS_REGEXP.lastIndex=0,!le.SCRIPT_TAG_REGEXP.test(e)&&!le.HTML_TAG_WITH_HANDLERS_REGEXP.test(e)}},de={bold:function(e){return le.BOLD_REGEXP.lastIndex=0,le.BOLD_REGEXP.test(e)},header1:function(e){return le.HEADER_REGEXP_1.lastIndex=0,le.HEADER_REGEXP_1.test(e)},header2:function(e){return le.HEADER_REGEXP_2.lastIndex=0,le.HEADER_REGEXP_2.test(e)},img:function(e){return le.IMAGE_REGEXP.lastIndex=0,le.IMAGE_REGEXP.test(e)},link:function(e){return le.LINK_REGEXP.lastIndex=0,le.LINK_REGEXP.test(e)},video:function(e){return le.LINK_REGEXP.lastIndex=0,le.VIDEO_REGEXP.test(e)},lineIntendention:function(e){return"-"===e[0]},listItem:function(e){return"+"===e[0]},quote:function(e){return le.QUOTE_BRACKETS_REGEXP.lastIndex=0,le.QUOTE_BRACKETS_REGEXP.test(e)}},ue={splitLineOnTags:function(e){if(!le.TAG_BRACKET_REGEXP.test(e))return[e];let t=[],n="",a=!1,s="";for(let r=0;r<e.length;r++){const o=e[r];"<"!==o||a||(a=!0,s=e[r+1],t.push(n),n=""),"/"!==o||"<"!==e[r-1]||">"!==e[r+2]||s!==e[r+1]?(n+=o,n.length>0&&r+1===e.length&&t.push(n)):(t.push(`${n}/${e[r+1]}>`),a=!1,n="",s="",r+=2)}return t.filter((e=>e))}};class me extends Error{constructor(e){super(e.message),this.name="Error by parsing content"}}const pe={throw:function(e){throw new me(e)}},_e={lineIntendention:function(){return'<div class="intendention"></div>'},header2:function(e){return e.replace(le.HEADER_REGEXP_2,'<h2 class="header header_2">$1</h2>')},header1:function(e){return e.replace(le.HEADER_REGEXP_1,'<h1 class="header header_1">$1</h1>')},bold:function(e){return e.replace(le.BOLD_REGEXP,'<b class="bold container_flex">$1</b>')},listItem:function(e,t){let n="",a={},s=[];for(;e.index<t.length&&de.listItem(t[e.index]);){let n=t[e.index].replace("+","");de.link(n)&&(n=this.link(n)),a[e.index]={text:n},e.index++}s=Object.entries(a);for(let[r,o]of s)n+="<li>"+o.text+"</li>";return'<ul class="list">'+n+"</ul>"},img:function(e,t){let n="",a={},s=[];for(;e.index<t.length&&de.img(t[e.index]);){const[n,s,r]=t[e.index].replace(le.PAIR_BRACKETS_REGEXP,"$1").split(/;/);!r&&ce.secureURL(s)?a[e.index]={text:n,link:s}:r&&ce.secureURL(r)?a[e.index]={text:n,link:r,context:s}:pe.throw({content:t[e.index],function:"parseAs.img",message:`"context": ${s} or "src": ${r} is not defined or not secure!`}),e.index++}s=Object.entries(a);for(let[r,o]of s)o.context?n+='\n          <div class="img_with_context flex-column-center-center-medium">\n            <a target="_blank" href="'+o.link+'"><img src="'+o.link+'"alt="'+o.text+'"></a>\n            <p>'+o.context+"</p>\n          </div>\n        ":n+='<a target="_blank" href="'+o.link+'"><img class="img" src="'+o.link+'"alt="'+o.text+'"></a>';return'<div style="flex-wrap: wrap;" class="flex-row-center-center-none">'+n+"</div>"},link:function(e){const t=e.match(le.LINK_REGEXP);let n=0,a=e;for(;t?.[n];){const s=t[n].replace(le.SQUARE_BRACKETS_REGEXP,"$1").split(/;/);ce.secureURL(s[1])||pe.throw({content:e,function:"parseAs.link",message:`Type of URL "${s[1]}" is "${typeof s[1]}", URL is not string or URL is not secure!`}),a=a.replace(t[n],'<a target="_blank" class="link content_flex" href="'+s[1]+'">'+s[0]+"</a>"),n++}return a},video:function(e){let t=e.replace(le.VIDEO_REGEXP,"$1");return ce.secureURL(t)||pe.throw({content:e,function:"parseAs.video",message:`Type of video URL "${t}" is "${typeof t}", video URL is not string or URL is not secure!`}),'\n        <div class="video_container flex-row-center-center-none">\n          <video controls src="'+t+'"></video>\n        </div>\n      '},paragraph:function(e){const t=ue.splitLineOnTags(e);let n,a,s="";for(let r=0;r<t.length;r++)if(n=t[r],le.TAG_BRACKET_REGEXP.test(n))s+=n;else{a=n.split(" ");for(let e=0;e<a.length;e++)0!==a[e].length&&(s+=`<p>${a[e]}</p>`)}return s},quote:function(e){const t=e.replace(le.QUOTE_BRACKETS_REGEXP,"$1");let n=e.replace(le.QUOTE_BRACKETS_REGEXP,"$2");return de.bold(n)&&(n=this.bold(n)),'\n        <div class="quote_container flex-row-center-center-none">\n          <div class="quote_body">\n            '+(t?'<p class="quote_name">'+t+":</p>":"")+'\n            <svg class="quote_svg quote_start" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none" stroke="currentColor" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-quote"><path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/><path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/></svg>\n            <p>'+n+'</p>\n            <svg class="quote_svg quote_end" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none" stroke="currentColor" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-quote"><path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/><path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/></svg>\n          </div>\n        </div>\n      '}},xe={regexp:le,kind:{BOLD:"BOLD",HEADER1:"HEADER1",HEADER2:"HEADER2",PARAGRAPH:"PARAGRAPH",QUOTE:"QUOTE",IMG:"IMG",LINK:"LINK",LIST:"LIST",VIDEO:"VIDEO"},is:ce,have:de,parseAs:_e,tools:ue,error:pe};function he(e){if(!e)return"";let t=e.split("\\n"),n="";1===t.length&&(t=e.split("\n"));for(let a={index:0};a.index<t.length;a.index++)xe.have.lineIntendention(t[a.index])?n+=xe.parseAs.lineIntendention():xe.have.quote(t[a.index])?n+=xe.parseAs.quote(t[a.index]):xe.have.header2(t[a.index])?n+=xe.parseAs.header2(t[a.index]):xe.have.header1(t[a.index])?n+=xe.parseAs.header1(t[a.index]):xe.have.img(t[a.index])?(n+=xe.parseAs.img(a,t),a.index--):xe.have.video(t[a.index])?n+=xe.parseAs.video(t[a.index]):xe.have.listItem(t[a.index])?(n+=xe.parseAs.listItem(a,t),a.index--):(xe.have.bold(t[a.index])&&(t[a.index]=xe.parseAs.bold(t[a.index])),xe.have.link(t[a.index])&&(t[a.index]=xe.parseAs.link(t[a.index])),t[a.index]=xe.parseAs.paragraph(t[a.index]),t[a.index]='<div class="line flex-row-normal-normal-medium">'+t[a.index]+"</div>",n+=t[a.index]);return n='<div style="width: 100%;" class="flex-column-normal-normal-small">'+n+"</div>",xe.is.secureHTMLTag(n)||xe.error.throw({content:n,function:"parse",message:"HTML Contains handlers or script tag!"}),n}function ge({content:n,className:a}){const[s,r]=e.useState(""),[l,c]=e.useState("");return e.useEffect((()=>{try{r(he(n||"")),c("")}catch(pe){c(pe.message)}}),[]),t.jsx("div",{className:`${re} ${a}`,dangerouslySetInnerHTML:s?{__html:s}:void 0,children:l?t.jsxs("div",{className:`${ie} flex-row-center-center-medium`,children:[t.jsx(o,{}),l]}):0===s.length?t.jsxs("div",{className:`${oe} flex-row-center-center-big`,children:[t.jsx(i,{}),t.jsx("p",{children:"Post is empty"})]}):null})}const fe={empty_container:"x"};function je({label:e,option:n}){let a={fontSize:`${{SMALL:1,MEDIUM:1.25,LARGE:1.5}[n?.size||"MEDIUM"]}rem`,textAlign:{CENTER:"center",LEFT:"left",RIGHT:"right"}[n?.align||"CENTER"],height:{SMALL:"10%",MEDIUM:"50%",FULL:"100%"}[n?.height||"FULL"]};return n?.flexCenterCenter&&(a={...a,display:"flex",alignItems:"center",justifyContent:"center"}),t.jsx("div",{style:a,className:fe.empty_container,children:t.jsx("p",{children:e})})}const ve={pagination_list_button:"kc",pagination_curr_page:"lc"};function be({pagesCount:e,listKey:n}){const{pathname:a}=l(),s=L(),r=`${n||"list"}-page`,o=parseInt(s.get(r)||"0"),i=t=>{if("next"===t){const t=o+1>e-1?o:o+1;s.set({[r]:t})}else{const e=o-1<0?0:o-1;s.set({[r]:e})}},m=e=>{s.set({[r]:e})};return t.jsxs("section",{className:`${ve.pagination_list_container} flex-row-normal-space-between-medium`,children:[t.jsx("button",{onClick:()=>i("preview"),className:`${ve.pagination_list_button} flex-row-center-center-none`,children:t.jsx(c,{})}),t.jsxs("div",{className:"flex-row-normal-normal-none",children:[o-3>=0?t.jsx(d,{className:`${ve.pagination_list_button} flex-row-center-center-none`,to:`${a}?${r}=0`,children:"..."}):null,[...Array(e)].map(((e,n)=>t.jsx("button",{onClick:()=>m(n),className:`${ve.pagination_list_button} ${o===n?ve.pagination_curr_page:""} flex-row-center-center-none`,children:n},n))).slice(o-(1===o?1:2),o),[...Array(e)].map(((e,n)=>t.jsx("button",{onClick:()=>m(n),className:`${ve.pagination_list_button} ${o===n?ve.pagination_curr_page:""} flex-row-center-center-none`,children:n},n))).slice(o,o+1),[...Array(e)].map(((e,n)=>t.jsx("button",{onClick:()=>m(n),className:`${ve.pagination_list_button} ${o===n?ve.pagination_curr_page:""} flex-row-center-center-none`,children:n},n))).slice(o+1,o+3),o+3<e?t.jsx(d,{className:`${ve.pagination_list_button} flex-row-center-center-none`,to:`${a}?${r}=${e-1}`,children:"..."}):null]}),t.jsx("button",{onClick:()=>i("next"),className:`${ve.pagination_list_button} flex-row-center-center-none`,children:t.jsx(u,{})})]})}const we={mutating_loader_container:"q_",mutating_loader:"r_",left:"s_",right:"t_"};function ye(){return t.jsx("div",{className:`${we.mutating_loader_container} flex-row-center-center-none`,children:t.jsx("span",{className:we.mutating_loader})})}const Ne="Ga",$e="Ha",Ee="Ia",Re="Ja",Ce="Ka",Ae="La",ke="Ma",Te={modal_error_container:"D_",modal_error_body:"E_",modal_error_header:"F_",modal_error_text:"G_",modal_error_code:"H_"};function Ie({error:n,removeError:a}){const s=L(),r=JSON.parse(s.get("is-error-modal-open")||"false");return e.useEffect((()=>{n&&s.set({"is-error-modal-open":!0})}),[]),t.jsx("div",{style:{display:r&&n?"flex":"none"},className:`${Te.modal_error_container} flex-row-center-center-none`,children:t.jsxs("div",{className:`${Te.modal_error_body} flex-column-normal-normal-none`,children:[t.jsxs("div",{className:`${Te.modal_error_header} flex-row-center-space-between-none`,children:[t.jsxs("div",{className:"flex-row-center-center-medium",children:[t.jsx(m,{size:17}),t.jsx("p",{children:"Some error!"})]}),t.jsx(o,{onClick:()=>{s.remove(["is-error-modal-open"]),a&&a()},size:17})]}),t.jsxs("div",{className:Te.modal_error_text,children:[t.jsxs("p",{className:Te.modal_error_code,children:[n?.code,"!"]}),t.jsx("p",{children:n?.message}),t.jsxs("div",{style:{flexWrap:"wrap",rowGap:"0rem"},className:"flex-row-normal-normal-small",children:[t.jsx("button",{onClick:()=>{window.location.reload()},children:"Refresh"}),t.jsx("p",{children:"the page or write a"}),t.jsx(d,{to:"/",children:"E-mail."})]})]})]})})}const Se=e.memo((function({placeholder:n,defaultValue:a,getValue:s}){const[o,i]=e.useState(a),[l,c]=e.useState(),[d,u]=e.useState(),[m,g]=e.useState(),f=e.useRef(),j=e.useRef(null),v=e.useRef(!1),b=e.useRef(0),w=L(),y=JSON.parse(w.get("is-open")||"false"),N=JSON.parse(w.get("is-preview")||"false"),$=e.useCallback((async()=>{const e=function(e){let t={};return e.alt||(t={...t,alt:"Alt is required filed!"}),xe.is.secureURL(e.url||"")||e.url||e.asset||(t={...t,url:"URL is not valid!"}),(e.url||"")?.length>0&&e.asset&&(t={...t,url:"Url or Data url is defined!"}),t}({alt:/video/g.test(f.current?.type||"")?"placeholder":d,url:m,asset:f.current}),t=j.current.selectionEnd;if(b.current=t,c(e),!(Object.entries(e).filter((e=>e)).length>0)){if(f.current){v.current=!0;const e=new FormData;let n;e.append("file",f.current);try{n=await async function(e){try{return await T.post("/api/upload",e)}catch(pe){throw new Error("Error by uploading img!")}}(e)}catch(pe){c({"upload-error":l.message}),v.current=!1}if(/video/g.test(f.current?.type||"")){const e=`${o.substring(0,t)}[${n.assetURL}]${o.substring(t,o.length)}`;i(e),s&&s(e)}else{const e=`${o.substring(0,t)}(${d};${n.assetURL})${o.substring(t,o.length)}`;i(e),s&&s(e)}v.current=!1}else{const e=`${o.substring(0,t)}(${d};${m})${o.substring(t,o.length)}`;i(e),s&&s(e)}u(""),g(""),c({}),f.current=void 0,w.set({"is-open":!1})}}),[d,m,f]);return e.useEffect((()=>{i(a||""),s&&s(a||"")}),[a]),t.jsxs(e.Fragment,{children:[v.current?t.jsx(ye,{}):null,t.jsx(Ie,{error:l?.["upload-error"]}),t.jsxs("section",{className:Ae,children:[t.jsx("button",{disabled:N,onClick:()=>{const e=j.current.selectionStart,t=j.current.selectionEnd;b.current=t;const n=o.substring(e,t),a=o.replace(n,`#${n}#`);i(a),s&&s(a)},type:"button",className:`${ke} flex-row-center-center-none`,children:t.jsx(p,{})}),t.jsx("button",{disabled:N,onClick:()=>{const e=j.current.selectionStart,t=j.current.selectionEnd;b.current=t;const n=o.substring(e,t),a=o.replace(n,`##${n}##`);i(a),s&&s(a)},type:"button",className:`${ke} flex-row-center-center-none`,children:t.jsx(_,{})}),t.jsx("button",{disabled:N,onClick:()=>{const e=j.current.selectionEnd;b.current=e;const t=`${o.substring(0,e)}[LINK STRING;LINK URL]${o.substring(e,o.length)}`;i(t),s&&s(t)},type:"button",className:`${ke} flex-row-center-center-none`,children:t.jsx(x,{})}),t.jsx("button",{disabled:N,onClick:()=>{w.set({"is-open":!0})},type:"button",className:`${ke} flex-row-center-center-none`,children:t.jsx(r,{})}),t.jsx("button",{onClick:()=>N?(k.set("scroll-position",document.body.scrollTop),w.remove(["is-preview"])):(document.body.scrollTo({top:k.get("scroll-position","0")}),w.set({"is-preview":!0})),type:"button",className:`${ke} flex-row-center-center-none`,children:t.jsx(h,{})})]}),t.jsxs("div",{className:Re,children:[t.jsx("div",{className:y?`${Ne} flex-row-center-center-none`:`${Ne} ${Ee} flex-row-center-center-none`,children:t.jsxs("div",{className:`${$e} main-content-container flex-column-normal-normal-small`,children:[t.jsx(H,{errors:l,onInput:e=>{g(e.currentTarget.value)},defaultValue:m||"",name:"url",type:"text",placeholder:"Put you img URL here!"}),t.jsx(H,{errors:l,onInput:e=>{u(e.currentTarget.value)},defaultValue:d||"",name:"alt",type:"text",placeholder:"Put img Alt attributte here!"}),t.jsx(z,{label:"Upload img!",name:"uploadImg",asset:f,initValue:m}),t.jsx("button",{disabled:v.current,type:"button",onClick:$,children:"Add Link"}),t.jsx("button",{type:"button",onClick:()=>{u(""),g(void 0),c({}),w.set({"is-open":!1}),f.current=void 0,s&&s(o)},children:"Stop"})]})}),t.jsx("div",{children:N?t.jsx(ge,{content:o}):t.jsx("textarea",{className:Ce,placeholder:n,spellCheck:!1,onChange:e=>{b.current=e.currentTarget.selectionEnd,i(e.currentTarget.value),s&&s(e.currentTarget.value)},ref:j,value:o,rows:(o?.split(/\n/)?.length||0)+1})})]})]})})),Pe={tag_list:"u_",tag_item:"v_"};function Le({removeTag:e,tags:n}){return t.jsx("ul",{className:`${Pe.tag_list} flex-row-flex-start-normal-small`,children:n.map((n=>n.trim()?t.jsx("li",{onClick:()=>e(n),className:Pe.tag_item,children:n},n):null))})}function Oe({getTags:n,placeholder:a,value:s}){const[r,o]=e.useState(s||[]);return t.jsxs(e.Fragment,{children:[t.jsx(H,{name:"tags",onInput:e=>{const t=e.currentTarget.value.split(/\,/);o(t),n(t)},placeholder:a,defaultValue:r.join(",")}),t.jsx(Le,{removeTag:e=>{o((t=>{const a=t.filter(((n,a)=>a!==t.indexOf(e)));return n(a),a}))},tags:r})]})}const Ge={pagination_button_style:"y_",pagination_button_disabled:"z_",pagination_container:"A_",pagination_body:"B_",pagination_curr_page:"C_"};function De({pagesCount:e,disableOn:n}){const{pathname:a}=l(),s=L(),r=parseInt(s.get("page")||"0"),o=n?Ge.pagination_button_disabled:"",i=t=>{if("next"===t){const t=r+1>e-1?r:r+1;s.set({page:t})}else{const e=r-1<0?0:r-1;s.set({page:e})}};return t.jsxs("div",{className:`${Ge.pagination_container} flex-row-center-space-between-none`,children:[t.jsx("button",{className:`${Ge.pagination_button_style} flex-row-center-center-none`,onClick:()=>i("preview"),children:t.jsx(c,{})}),t.jsxs("ul",{className:`${Ge.pagination_body} flex-row-center-normal-small`,children:[r>=3?t.jsx(d,{tabIndex:-1,className:`${o} ${Ge.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=0`,children:"..."}):null,[...Array(e)].map(((e,n)=>t.jsx("li",{children:t.jsx(d,{tabIndex:-1,className:n===r?`${o} ${Ge.pagination_curr_page} ${Ge.pagination_button_style} flex-row-center-center-none`:`${Ge.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${n}`,children:n})},n))).slice(r-(1===r?1:2),r),[...Array(e)].map(((e,n)=>t.jsx("li",{children:t.jsx(d,{tabIndex:-1,className:n===r?`${o} ${Ge.pagination_curr_page} ${Ge.pagination_button_style} flex-row-center-center-none`:`${Ge.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${n}`,children:n})},n))).slice(r,r+1),[...Array(e)].map(((e,n)=>t.jsx("li",{children:t.jsx(d,{tabIndex:-1,className:n===r?`${o} ${Ge.pagination_curr_page} ${Ge.pagination_button_style} flex-row-center-center-none`:`${Ge.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${n}`,children:n})},n))).slice(r+1,r+3),r<=e-4?t.jsx(d,{tabIndex:-1,className:`${o} ${Ge.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${e-1}`,children:"..."}):null]}),t.jsx("button",{className:`${Ge.pagination_button_style} flex-row-center-center-none`,onClick:()=>i("next"),children:t.jsx(u,{})})]})}const Me="_";function Ke(e,t){if("object"!=typeof e||Array.isArray(e))return!1;for(let n=0;n<t.length;n++)if(Object.hasOwn(e,t[n]))return!0;return!1}const Ue={admin_side_menu_list_container:"b_",admin_side_menu_body:"c_"};function Be(){const e=g(),n=t=>{e(`/admin/${t}`)};return t.jsxs("div",{className:Ue.admin_side_menu_list_container,children:[t.jsx("div",{className:Ue.admin_side_menu_body,children:t.jsxs("section",{onClick:()=>n("post"),className:"flex-row-center-normal-medium",children:[t.jsx(f,{}),t.jsx("p",{children:"Posts"})]})}),t.jsx("div",{className:Ue.admin_side_menu_body,children:t.jsxs("section",{onClick:()=>n("comment"),className:"flex-row-center-normal-medium",children:[t.jsx(j,{}),t.jsx("p",{children:"Comments"})]})}),t.jsx("div",{className:Ue.admin_side_menu_body,children:t.jsxs("section",{onClick:()=>n("user"),className:"flex-row-center-normal-medium",children:[t.jsx(v,{}),t.jsx("p",{children:"Users"})]})})]})}const Ve={content_author_avatar:"Q",content_author_name:"R",content_author_registrated:"S",content_content:"T",content_no_data_about_author:"U"},He={data_wrapper_container:"Na"};function Xe({children:e,id:n}){const a=L();return t.jsx("div",{onClick:()=>{a.set({id:n})},className:`${He.data_wrapper_container} main-content-container`,children:e})}function ze({contentData:e,authorData:n}){return t.jsx(Xe,{id:e._id,children:t.jsxs("div",{style:{justifyContent:"space-between"},className:"flex-column-normal-normal-medium",children:[n?t.jsxs("div",{className:"flex-row-normal-normal-medium",children:[t.jsx("img",{className:Ve.content_author_avatar,src:n.avatar,alt:n.name}),t.jsxs("div",{className:"flex-column-normal-norma-none",children:[t.jsx("p",{className:Ve.content_author_name,children:n.name}),t.jsx("p",{className:Ve.content_author_registrated,children:ae.getDifference(e.createdAt)})]})]}):t.jsxs("div",{className:`${Ve.content_no_data_about_author} flex-row-center-normal-medium`,children:[t.jsx(b,{}),t.jsxs("div",{children:[t.jsx("p",{children:"Author not found!"}),t.jsx("p",{className:Ve.content_author_registrated,children:ae.getDifference(e.createdAt)})]})]}),t.jsx("p",{className:Ve.content_content,children:e.content})]})})}const Fe={user_preview_author:"m_",user_preview_name:"n_",user_preview_registrated:"o_",user_preview_some_data:"p_"};function qe({user:e}){const n="Admin"===e.role?"#F48023":"#1682FD";return t.jsx(Xe,{id:e._id,children:t.jsxs("div",{className:"flex-column-normal-normal-none",children:[t.jsxs("div",{className:"flex-row-normal-normal-medium",children:[t.jsx("img",{className:Fe.user_preview_author,src:e.avatar,alt:e.name}),t.jsxs("div",{children:[t.jsx("p",{className:Fe.user_preview_name,children:e.name}),t.jsx("p",{className:Fe.user_preview_registrated,children:ae.getDifference(e.createdAt)})]})]}),t.jsxs("div",{className:`${Fe.user_preview_some_data} flex-row-normal-normal-none`,children:[t.jsxs("section",{className:"flex-row-normal-normal-medium",children:[t.jsx("p",{children:"Content:"}),t.jsx("p",{children:(e.myContent||[]).length})]}),t.jsxs("section",{className:"flex-row-normal-normal-medium",children:[t.jsx("p",{children:"Liked:"}),t.jsx("p",{children:(e.likedContent||[]).length})]}),t.jsxs("section",{className:"flex-row-normal-normal-medium",children:[t.jsx("p",{children:"Role:"}),t.jsx("p",{style:{color:n},children:e.role})]})]})]})})}const Je={post_list_container:"Aa",post_list_body:"Ba",post_auhtor_container:"Ca",post_author_data_body:"Da"},We={data_simple_container:"uc",data_simple_key:"vc",data_simple_copyied:"wc"};function Qe({propKey:n,propValue:a,useParser:s,useCopyBoard:r}){const[o,i]=e.useState(void 0);return e.useEffect((()=>{o&&setTimeout((()=>i(!1)),200)}),[o]),t.jsxs("section",{className:`${We.data_simple_container} flex-row-center-space-between-none`,children:[t.jsx("p",{className:We.data_simple_key,children:n}),t.jsxs("div",{className:"flex-row-center-center-medium",children:[s?t.jsx("span",{className:"flex-row-center-center-none",dangerouslySetInnerHTML:{__html:he(a)}}):t.jsx("p",{className:We.data_simple_value,children:a}),r?t.jsx(w,{className:o?We.data_simple_copyied:"",onClick:async()=>{await navigator.clipboard.writeText(a),i(!0)},size:15}):null]})]})}const Ye={modal_wrapper_container:"rc",modal_wrapper_body:"sc",modal_wrapper_header:"tc"},Ze={data_modal_wrapper_container:"Ic",data_modal_wrapper_data_body:"Jc",data_modal_wrapper_loader_animation:"Kc",loader:"Lc"},et={admin_action_button:"Hc"};function tt({optionAction:n}){const[a,s]=e.useState(!1),r=L(),o=g(),{tab:l}=y(),c=["user","comment","post"].includes(l||"")?l:"post",d=r.get("id"),u=parseInt(r.get("page")||"0"),{mutate:m}=te({deps:[]}),p={remove:{icon:t.jsx(N,{color:a?"#8a0000":"white"}),color:"#8a0000"},edit:{icon:t.jsx(i,{color:a?"#F48023":"white"}),color:"#F48023"}},_={backgroundColor:p[n.actionType].color,border:`1px solid ${p[n.actionType].color}`},x=e=>{"mouseleave"===e.type?s(!1):s(!0)};return t.jsx("button",{onMouseEnter:x,onMouseLeave:x,onClick:()=>{if("edit"===n.actionType)return r.set({[`${l}-edit-modal`]:!0});m({key:[`${c}-${u}`],request:async e=>{const t=await T.post(`/admin/remove/${se(l)}/${d}`,{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return 1===e.state?.data.length?o(`/admin/${l}?page=${u-1<=0?0:u-1}`):o(`/admin/${l}?page=${u}`),{pagesCount:e.state?.pagesCount||0,data:e.state?.data.filter((e=>e._id!==t._id))||[]}}})},style:_,className:`${et.admin_action_button}`,children:t.jsx("section",{className:"flex-row-center-center-none",children:p[n.actionType].icon})})}function nt(){return t.jsxs("div",{className:`${Ze.data_modal_wrapper_container} flex-column-normal-normal-medium`,children:[t.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-15%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[t.jsx(tt,{optionAction:{actionType:"remove"}}),t.jsx(tt,{optionAction:{actionType:"edit"}})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"2rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"11rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"5rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"9rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"3rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"6rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"4rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"11rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"3.5rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"5rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]}),t.jsxs("div",{className:`${Ze.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[t.jsx("div",{style:{width:"4rem"},className:`${Ze.data_modal_wrapper_loader_animation}`}),t.jsx("div",{style:{width:"3rem"},className:`${Ze.data_modal_wrapper_loader_animation}`})]})]})}function at({Component:n}){const a=L(),{tab:s}=y(),r=["comment","post","user"].includes(s||"")?s:"post",i=a.get("id"),l=a.get("page")||"0",{data:c,isPending:d}=te({deps:[`${r}-${l}`]}),u=c?.data&&c.data.find((e=>e._id===i));return t.jsxs(e.Fragment,{children:[u||!i||d?null:t.jsx(Ie,{error:{code:404,message:`${se(r)} not found!`}}),i?t.jsx("div",{className:`${Ye.modal_wrapper_container} flex-row-center-center-none`,children:t.jsxs("div",{className:`${Ye.modal_wrapper_body} main-content-container flex-column-normal-normal-none`,children:[t.jsxs("section",{className:`${Ye.modal_wrapper_header} flex-row-center-space-between-none`,children:[t.jsx("p",{children:se(r)}),t.jsx(o,{onClick:()=>{a.remove(["id"])},size:17})]}),d?t.jsx(nt,{}):u?n({data:u}):null]})}):null]})}const st={burger_data_wrapper_container:"gc",burger_data_wrapper_key:"hc"};function rt({propKey:n,children:a}){const[s,r]=e.useState(!1),o=e.useRef(null),i=e.useRef(0),l=e.cloneElement(a,{ref:o});return e.useEffect((()=>{o.current&&(i.current=o.current.getBoundingClientRect().height+7)}),[]),t.jsxs("div",{className:st.burger_data_wrapper_container,children:[t.jsx("p",{onClick:()=>{r((e=>!e))},className:st.burger_data_wrapper_key,children:n}),t.jsx("div",{style:{height:s?i.current:0,overflow:"auto",maxHeight:"15rem",transition:"all 0.2s ease"},children:l})]})}const ot={data_edit_modal_wrapper:"xc",data_edit_modal_header:"yc"};function it({children:e}){const n=L(),{tab:a}=y(),s=JSON.parse(n.get(`${a}-edit-modal`)||"false");return t.jsx("div",{style:{display:s?"flex":"none"},className:`${ot.data_edit_modal_wrapper} flex-row-center-center-none`,children:t.jsxs("div",{className:"main-content-container",children:[t.jsxs("div",{className:`${ot.data_edit_modal_header} flex-row-center-space-between-none`,children:[t.jsxs("p",{children:["Edit ",se(a)]}),t.jsx(o,{onClick:()=>{n.remove([`${a}-edit-modal`])},size:17})]}),e]})})}const lt={checkbox_default_input:"Dc",checkbox_body:"Ec",checkbox_custom_checkbox_wrapper:"Fc",checkbox_custom_checkbox_body:"Gc"};function ct({defaultValue:e,label:n,name:a}){return t.jsx("div",{style:{width:"100%"},className:"flex-row-center-normal-none",children:t.jsxs("label",{className:`${lt.checkbox_body} flex-row-center-normal-medium`,children:[t.jsx("input",{name:a,className:lt.checkbox_default_input,type:"checkbox",defaultChecked:e}),t.jsxs("p",{className:lt.checkbox_custom_checkbox_wrapper,children:[t.jsx("p",{className:lt.checkbox_custom_checkbox_body}),t.jsx($,{})]}),n]})})}function dt(){const n=e.useRef([]),a=e.useRef(),s=L(),{submit:r,reset:o}=K([]),{mutate:i}=te({deps:[]}),l=parseInt(s.get("views-page")||"0"),c=parseInt(s.get("likes-page")||"0"),u=10*l,m=u+10,p=10*c,_=p+10,x=e=>{i({key:[`post-${s.get("page")||0}`],request:async t=>{const r=await T.post("/admin/post/update",{...e,tags:n.current,content:a.current,id:s.get("id")},{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return o(),s.remove(["post-edit-modal"]),{pagesCount:t.state?.pagesCount||0,data:t.state?.data.map((e=>e._id===r._id?{...e,...r}:e))||[]}}})},h=e=>{a.current=e},g=e=>{n.current=e};return t.jsx(at,{Component:e=>{const n=e.data.viewedBy?.slice(u,m)||[],a=e.data.likedBy.slice(p,_)||[],s=Math.ceil(n.length/10),o=Math.ceil(a.length/10);return t.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[t.jsx(it,{children:t.jsxs(B,{style:{border:"none",width:"30rem",boxShadow:"none",padding:"1rem"},onSubmit:r(x),buttonLabel:"Change post data",children:[t.jsx(H,{name:"title",placeholder:"Write new post title",defaultValue:e.data.title}),t.jsx(ct,{name:"isHidden",label:e.data.isHidden?"Show post":"Hidde post",defaultValue:!0}),t.jsx(Oe,{placeholder:"Write new post tags",getTags:g,value:e.data.tags}),t.jsx(Se,{placeholder:"Write new post content",defaultValue:e.data.content,getValue:h})]})}),t.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[t.jsx(tt,{optionAction:{actionType:"remove"}}),t.jsx(tt,{optionAction:{actionType:"edit"}})]}),t.jsx(rt,{propKey:"Auhor:",children:e.data.author?t.jsxs(d,{to:`/admin/user?id=${e.data.author._id}`,className:`${Je.post_auhtor_container} flex-row-normal-normal-medium`,children:[t.jsx("img",{src:e.data.author.avatar,alt:e.data.author.name}),t.jsxs("div",{className:`${Je.post_author_data_body} flex-column-normal-normal-none`,children:[t.jsx("p",{children:e.data.author.name}),t.jsx("p",{children:e.data.author.role}),t.jsx("p",{children:ae.getDifference(e.data.author.createdAt)}),t.jsx("p",{children:e.data.author.email})]})]}):t.jsx("div",{children:t.jsx(je,{option:{size:"SMALL"},label:"No author found!"})})}),t.jsx(rt,{propKey:"Views:",children:t.jsxs("div",{className:`${Je.post_list_container} flex-column-normal-normal-none`,children:[s>1?t.jsx(be,{pagesCount:s,listKey:"views"}):null,0===n.length?t.jsx(je,{option:{size:"SMALL"},label:"No body have viewed!"}):t.jsx("ul",{className:Je.post_list_body,children:n?.map((e=>t.jsx(d,{to:`/admin/user?id=${e._id}`,children:t.jsxs("li",{className:"flex-row-center-normal-medium",children:[t.jsx("img",{src:e.avatar,alt:e.name}),t.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),t.jsx(rt,{propKey:"Likes:",children:t.jsxs("div",{className:`${Je.post_list_container} flex-column-normal-normal-none`,children:[o>1?t.jsx(be,{pagesCount:o,listKey:"likes"}):null,0===a.length?t.jsx(je,{option:{size:"SMALL"},label:"No body have liked!"}):t.jsx("ul",{className:Je.post_list_body,children:a?.map((e=>t.jsx(d,{to:`/admin/user?id=${e._id}`,children:t.jsxs("li",{className:"flex-row-center-normal-medium",children:[t.jsx("img",{src:e.avatar,alt:e.name}),t.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),t.jsx(Qe,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),t.jsx(Qe,{propKey:"Title:",propValue:e.data.title}),t.jsx(Qe,{propKey:"Is hidden:",propValue:e.data.isHidden?"Yes":"No"}),t.jsx(Qe,{propKey:"Tags:",propValue:e.data.tags?.join(", ")||"No tags"}),t.jsx(Qe,{propKey:"Created at:",propValue:ae.getDifference(e.data.createdAt)}),t.jsx(Qe,{propKey:"Updated at:",propValue:ae.getDifference(e.data.updatedAt)}),t.jsx(Qe,{propKey:"Content:",propValue:e.data.content,useParser:!0})]})}})}const ut={comment_list_container:"wa",comment_list_body:"xa",comment_auhtor_container:"ya",comment_author_data_body:"za"};function mt(){const{submit:n,reset:a}=K([]),s=L(),r=e.useRef(),{mutate:o}=te({deps:[]}),i=10*parseInt(s.get("comment-likes-page")||"0"),l=i+10,c=e=>{o({key:[`comment-${s.get("page")||0}`],request:async t=>{const n=await T.post("/admin/comment/update",{...e,content:r.current,id:s.get("id")},{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return a(),s.remove(["comment-edit-modal"]),{pagesCount:t.state?.pagesCount||0,data:t.state?.data.map((e=>e._id===n._id?{...e,...n}:e))||[]}}})},u=e=>{r.current=e};return t.jsx(at,{Component:e=>{const a=e.data.likedBy.slice(i,l)||[],s=Math.ceil((e.data.likedBy?.length||0)/10);return t.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[t.jsx(it,{children:t.jsxs(B,{style:{border:"none",width:"30rem",boxShadow:"none",padding:"1rem"},onSubmit:n(c),buttonLabel:"Change comment data",children:[t.jsx(ct,{label:e.data.isHidden?"Show comment":"Hidde comment",name:"isHidden",defaultValue:e.data.isHidden}),t.jsx(Se,{placeholder:"Write new comment content",defaultValue:e.data.content,getValue:u})]})}),t.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[t.jsx(tt,{optionAction:{actionType:"remove"}}),t.jsx(tt,{optionAction:{actionType:"edit"}})]}),t.jsx(Qe,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),t.jsx(Qe,{propKey:"Written at:",propValue:ae.getDifference(e.data.createdAt)}),t.jsx(Qe,{propKey:"Is hidden:",propValue:e.data.isHidden?"Yes":"No"}),t.jsx(Qe,{propKey:"Content:",propValue:e.data.content,useParser:!0}),t.jsx(rt,{propKey:"Auhor:",children:e.data.author?t.jsxs(d,{to:`/admin/user?id=${e.data.author._id}`,className:`${ut.comment_auhtor_container} flex-row-normal-normal-medium`,children:[t.jsx("img",{src:e.data.author.avatar,alt:e.data.author.name}),t.jsxs("div",{className:`${ut.comment_author_data_body} flex-column-normal-normal-none`,children:[t.jsx("p",{children:e.data.author.name}),t.jsx("p",{children:e.data.author.role}),t.jsx("p",{children:ae.getDifference(e.data.author.createdAt)}),t.jsx("p",{children:e.data.author.email})]})]}):t.jsx("div",{children:t.jsx(je,{option:{size:"SMALL"},label:"No author found!"})})}),t.jsx(rt,{propKey:"Likes:",children:t.jsxs("div",{className:`${ut.comment_list_container} flex-row-normal-normal-none`,children:[s>1?t.jsx(be,{pagesCount:s,listKey:"coment-likes"}):null,0===a.length?t.jsx(je,{option:{size:"SMALL"},label:"No body have liked!"}):t.jsx("ul",{className:ut.comment_list_body,children:a?.map((e=>t.jsx(d,{to:`/admin/user?id=${e._id}`,children:t.jsxs("li",{className:"flex-row-center-normal-medium",children:[t.jsx("img",{src:e.avatar,alt:e.name}),t.jsx("p",{children:e.name})]},e._id+100*Math.random())})))})]})})]})}})}const pt={user_modal_user_content:"Oa",user_modal_data_container:"Pa"},_t={select_list_wrapper:"zc",select_list_title:"Ac",select_list_item:"Bc",select_list_item_selected:"Cc"};function xt({isMultiple:n}){const[a,s]=e.useState([]),r=e=>a.includes(e);return{selected:a,reset:()=>{s([])},SelectInput:function({children:e,title:n}){return t.jsxs("ul",{className:`${_t.select_list_wrapper} main-content-container`,children:[t.jsx("li",{className:_t.select_list_title,children:n}),e]})},SelectItem:function({children:e,value:a}){return t.jsx("li",{onClick:()=>(e=>{s((t=>n&&t.includes(e)?t.filter((t=>t!==e)):n?[...t,e]:t[0]===e?[]:[e]))})(a),className:`${_t.select_list_item} ${r(a)?_t.select_list_item_selected:""}`,children:e})}}}function ht(){const e=L(),n=xt({}),a=xt({}),{submit:s,reset:r}=K([]),{mutate:o,isMutating:i}=te({deps:[]}),l=parseInt(e.get("user-content")||"0"),c=parseInt(e.get("my-likes")||"0"),u=10*l,m=u+10,p=10*c,_=p+10,x=t=>{o({key:[`user-${e.get("page")||0}`],request:async s=>{const o=0===n.selected.length?void 0:n.selected[0],i=0===a.selected.length?void 0:a.selected[0],l=await T.post("/admin/user/update",F({...t,id:e.get("id"),role:o,ban:i}),{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return n.reset(),a.reset(),r(),e.remove(["user-edit-modal"]),{pagesCount:s.state?.pagesCount||0,data:s.state?.data.map((e=>e._id===l._id?{...e,...l}:e))||[]}}})};return t.jsx(at,{Component:e=>{const r=e.data.myContent?.slice(u,m)||[],o=e.data.likedContent.slice(p,_)||[],l=Math.ceil(r.length/10),c=Math.ceil(o.length/10);return t.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[t.jsx(it,{children:t.jsxs(B,{style:{border:"none",width:"25rem",boxShadow:"none",padding:"1rem"},buttonLabel:"Change user data",onSubmit:s(x),children:[t.jsx(H,{name:"name",placeholder:"Write new user name",defaultValue:e.data.name}),t.jsxs(n.SelectInput,{title:"User roles:",children:[t.jsx(n.SelectItem,{value:"Admin",children:t.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[t.jsx(E,{size:15}),t.jsx("p",{children:"Admin"})]})}),t.jsx(n.SelectItem,{value:"Creator",children:t.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[t.jsx(R,{size:15}),t.jsx("p",{children:"Creator"})]})}),t.jsx(n.SelectItem,{value:"User",children:t.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[t.jsx(C,{size:15}),t.jsx("p",{children:"User"})]})})]}),t.jsxs(a.SelectInput,{title:"Ban for:",children:[t.jsx(a.SelectItem,{value:"1",children:"1 Day"}),t.jsx(a.SelectItem,{value:"7",children:"7 Days"}),t.jsx(a.SelectItem,{value:"14",children:"14 Days"})]}),t.jsx(z,{label:"Change user avatar",name:"avatar",isChange:i})]})}),t.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[t.jsx(tt,{optionAction:{actionType:"remove"}}),t.jsx(tt,{optionAction:{actionType:"edit"}})]}),t.jsx(Qe,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),t.jsx(Qe,{propKey:"Email:",propValue:e.data.email,useCopyBoard:!0}),t.jsx(Qe,{propKey:"Name:",propValue:e.data.name}),t.jsx(Qe,{propKey:"Role:",propValue:e.data.role}),t.jsx(Qe,{propKey:"Registrated:",propValue:ae.getDifference(e.data.createdAt)}),t.jsx(Qe,{propKey:"Ban for:",propValue:ae.getDifference(e.data.ban)||"Not baned!"}),t.jsx(rt,{propKey:`${e.data.name} content:`,children:t.jsxs("ul",{className:pt.user_modal_user_content,children:[l>1?t.jsx(be,{pagesCount:l,listKey:"user-content"}):null,0===r.length?t.jsx(je,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have no content!"}):r.map((e=>t.jsx(d,{to:`/admin/${Ke(e,["viewedBy"])?"post":"comment"}?id=${e._id}`,children:t.jsxs("li",{className:"flex-column-normal-normal-none",children:[t.jsx("h5",{children:e.title}),t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Likes:"}),t.jsx("p",{children:e.likedBy.length})]}),e.viewedBy?t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Views:"}),t.jsx("p",{children:e.viewedBy.length})]}):null,e.comments?t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Comments:"}),t.jsx("p",{children:e.comments.length})]}):null]},e._id)})))]})}),t.jsx(rt,{propKey:`${e.data.name} likes:`,children:t.jsxs("ul",{className:pt.user_modal_user_content,children:[c>1?t.jsx(be,{pagesCount:c,listKey:"my-likes"}):null,0===o.length?t.jsx(je,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have not liked some one content!"}):o.map((e=>t.jsxs("li",{className:"flex-column-normal-normal-none",children:[t.jsx("h5",{children:e.title}),t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Likes:"}),t.jsx("p",{children:e.likedBy.length})]}),t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Views:"}),t.jsx("p",{children:e.viewedBy.length})]}),t.jsxs("section",{className:`${pt.user_modal_data_container} flex-row-normal-normal-big`,children:[t.jsx("p",{children:"Comments:"}),t.jsx("p",{children:e.comments.length})]})]},e._id)))]})})]})}})}function gt(){const{tab:e}=y(),n=["post","comment","user"].includes(e||"")?e:"post";return t.jsx(t.Fragment,{children:"post"===n?t.jsx(dt,{}):"comment"===n?t.jsx(mt,{}):"user"===n?t.jsx(ht,{}):null})}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{tab:e}=y(),n=L();if(!q().role(["Admin"]).permited())return t.jsx(A,{to:"/"});const a=parseInt(n.get("page")||"0"),{isMutating:s,isPending:r,data:o,prev:i,error:l}=te({deps:[`${e}-${a}`],prev:[`${e}-${0===a?a:a-1}`],request:async()=>await T.get(`/admin/${e}/${a}`,{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`})}),c=o?.pagesCount||i?.pagesCount||0,d=Ke(o?.data?.[0]||{},["avatar","email"]);return t.jsxs("div",{className:"flex-row-normal-normal-none",children:[t.jsx(Ie,{error:l}),t.jsx(gt,{}),s?t.jsx(ye,{}):null,l?null:t.jsxs("div",{style:{paddingRight:"11rem",width:"100%"},className:"flex-column-normal-normal-medium",children:[r?t.jsx(Y,{}):t.jsx(De,{pagesCount:c}),0===o?.data.length&&t.jsx(je,{option:{flexCenterCenter:!0},label:"Nothing found..."}),r?t.jsx(ee,{}):t.jsx("div",{className:Me,children:o&&o.data.map((e=>d?t.jsx(qe,{user:e},e._id):t.jsx(ze,{contentData:e,authorData:e.author},e._id)))}),r?t.jsx(Y,{}):t.jsx(De,{pagesCount:c})]}),t.jsx(Be,{})]})}},Symbol.toStringTag,{value:"Module"}));export{S as A,ge as C,ae as D,je as E,B as F,ye as M,be as P,W as R,H as T,te as _,q as a,se as b,I as c,De as d,Y as e,T as f,Le as g,K as h,z as i,F as j,Ie as k,k as l,Oe as m,Se as n,ee as o,P as p,ft as q,L as u};
