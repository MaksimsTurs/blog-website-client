import{r as e,j as n,u as t,B as a,C as r,F as s,X as i,P as o,a as l,M as c,L as d,b as m,O as u,c as _,T as p,d as h,U as x,e as f,f as g,g as j,h as v,S as y,i as w,k as b,N}from"../react.js";const E={get:(e,n)=>JSON.parse(localStorage.getItem(e)||n),set:(e,n)=>{localStorage.setItem(e,JSON.stringify(n))},remove:e=>{localStorage.removeItem(e)}},$={baseURL:"https://fuck-putler.vercel.app",formatURL:function(e){return this.baseURL?`${this.baseURL}${e}`:e},formatInit:function(e,n){let t={headers:n||{},body:e||{}};return!e||e instanceof FormData?t:(n||(t.headers={"Content-Type":"application/json"}),n&&!("Content-Type"in n)&&(t.headers={...t.headers,"Content-Type":"application/json"}),{...t,body:JSON.stringify(e)})},get:async function(e,n){const t=await fetch(this.formatURL(e),{headers:this.formatInit(void 0,n).headers}),a=await t.json();if(!t.ok)throw JSON.stringify(a);return await a},post:async function(e,n,t){const a=this.formatInit(n,t),r=await fetch(this.formatURL(e),{method:"POST",body:a.body,headers:a.headers}),s=await r.json();if(!r.ok)throw JSON.stringify(s);return await s}};const R={getOne:function(e){return function(){let e={};return document.cookie.split(/\;/).forEach((n=>{const[t,a]=n.split(/\=/);e={...e,[t.trim()]:a}})),e}()[e]},set:function(e,n){document.cookie=`${e}=${n};path=/;expires=${60*Date.now()*60*24*7};`}},A=e.createContext(void 0);function C({children:t}){const[a,r]=e.useState({isAuthPending:!1,isLoading:!1});return e.useEffect((()=>{!async function(){try{if(!a.user){r({isAuthPending:!0,isLoading:!1});const e=await $.get("/authenticate",{Authorization:`Bearer ${R.getOne("PR_TOKEN")}`}),n=Object.hasOwn(e,"token");r({isAuthPending:!1,isLoading:!1,error:void 0,user:n?e:void 0})}}catch(oe){r({isAuthPending:!1,isLoading:!1,error:void 0,user:void 0})}}()}),[]),n.jsx(A.Provider,{value:{updateUserState:r,userState:a},children:t})}function I(){const[e,n]=t();return{get:n=>e.get(n),set:e=>{const t=Object.entries(e);n((e=>{for(let[n,a]of t)e.set(n,a);return e}))},remove:e=>{n((n=>{for(let t=0;t<e.length;t++)n.delete(e[t]);return n}))}}}let P={isMax:function(e,n){if("string"==typeof n&&e<n.length)return!1},isMin:function(e,n){if("string"==typeof n&&e>n.length)return!1},isPattern:function(e,n){if(!RegExp(e.trim()).test(n))return!1},isEqualWith:function(e,n){if("string"==typeof e&&"string"==typeof n&&e!==n)return!1}},S={};function T(e){const[n,t,a]=e.split(":");return{func:n,value:t,error:a}}function k(e){for(let n=0;n<e.length;n++){const t=e[n];if(t.children.length>0)return k(t.children);const a=t;a.type&&(a.value="")}}function L(n){const[t,a]=e.useState({errors:void 0}),r=e.useRef(null),s=e.useRef(!1),i=e.useRef(!1);return{submit:function(e){return new Proxy(e,{apply:function(e,t,o){const l=o[0];l.preventDefault(),r.current=l.currentTarget,s.current=!0;const c=Object.fromEntries(new FormData(l.currentTarget).entries()),d=function(e,n){for(let t in e){const a=e[t],r=a[0],s=a[1];if(Array.isArray(s)){const e=[];for(let t in s){if(!s?.[t])continue;const{error:a,func:i,value:o}=T(s[t]);"isEqualWith"===i?(!1===P[i](n[o],n[r])&&e.push(a),S[r]=e[0]||e[e.length-1]||void 0):(!1===P[i](o,n[r])&&e.push(a),S[r]=e[0]||e[e.length-1]||void 0)}}else{if(!a[1])return S;const e=a[0],{func:t,value:r,error:i}=T(s),o=P[t](r,n[e]);if(!(t in P))throw new ReferenceError(`Object 'Check' have no function with name ${t}`);S[e]=void 0===o?void 0:i}}return S}(n,c);i.current=0===Object.values(d).filter((e=>e)).length,a((e=>({...e,errors:d}))),i.current&&e(c)}})},reset:function(){i.current&&k(r.current.children)},formState:t}}const O={form_body:"Ha",form_error:"Ia",form_button:"Ja",form_button_pending:"Ka"};function G({onSubmit:e,children:t,errors:r,isPending:s,buttonLabel:i,className:o,title:l,style:c}){const d=s?"Submiting...":i||"Submit",m=s?`${O.form_button_pending} ${O.form_button}`:O.form_button;return n.jsxs("form",{tabIndex:-1,onSubmit:e,className:`${o} flex-column-normal-normal-none`,children:[l?n.jsx("h3",{children:l}):null,n.jsxs("div",{style:c,className:`${O.form_body} main-content-container flex-column-center-center-medium`,children:[t,r&&r.length>0?n.jsx("div",{style:{width:"100%"},children:r.map((e=>n.jsxs("div",{className:`${O.form_error} flex-row-center-center-medium`,children:[n.jsx(a,{size:15}),n.jsx("p",{children:e},e)]})))}):null,i?n.jsx("button",{className:m,disabled:s,children:n.jsx("section",{className:"flex-row-center-center-medium",children:d})}):null]})]})}const D={text_input_container:"Q_",text_input_error_icon:"R_",text_input_error_text_container:"S_",text_input_icon_hidden:"T_",text_input:"U_",text_input_invalid:"V_"};function M({name:e,defaultValue:t,placeholder:a,value:s,errors:i,onInput:o,type:l}){const c=i?.[e]?D.text_input_error_icon:`${D.text_input_error_icon} ${D.text_input_icon_hidden}`,d=i?.[e]?`${D.text_input_invalid} ${D.text_input}`:D.text_input;return n.jsxs("div",{className:D.text_input_container,children:[n.jsx("input",{tabIndex:-1,value:s,defaultValue:t,name:e,onInput:o,placeholder:a,type:l||"text",className:d}),n.jsx(r,{className:c}),n.jsx("div",{className:D.text_input_error_text_container,children:n.jsx("span",{children:i?.[e]})})]})}const K={file_input_label:"jc",file_input_text:"kc",file_input_uploaded_asset:"lc",asset_input_buttons:"mc",asset_button:"nc"};function U({name:t,label:a,asset:r,initValue:l,isChange:c,supportedFormats:d}){const[m,u]=e.useState(l),_=e.useRef(null),p=e.useRef(!1),h=I(),x=d||["image/webp","image/jpg","image/png","image/jpeg"],f=()=>{_.current&&(_.current.value=""),u(void 0)};return e.useEffect((()=>{f()}),[c,h.get("is-open")]),n.jsxs(e.Fragment,{children:[n.jsx("input",{tabIndex:-1,ref:_,accept:x.join(","),id:t,name:t,type:"file",onChange:e=>{const n=e.currentTarget.files[0];n.type.search("video")>-1?p.current=!0:p.current=!1,x.includes(n.type)&&(u(URL.createObjectURL(n)),r&&(r.current=n))}}),m?n.jsxs("div",{className:K.file_input_label,children:[p.current?n.jsx("video",{className:K.file_input_uploaded_asset,src:m}):n.jsx("img",{className:K.file_input_uploaded_asset,src:m,alt:"User uploaded avatar"}),n.jsxs("section",{className:`${K.asset_input_buttons} flex-column-normal-normal-medium`,children:[n.jsx("button",{className:`${K.asset_button} flex-row-center-center-none`,type:"button",onClick:f,children:n.jsx(i,{})}),n.jsx("label",{className:`${K.asset_button} flex-row-center-center-none`,htmlFor:t,children:n.jsx(o,{})})]})]}):n.jsx("label",{className:K.file_input_label,htmlFor:t,children:n.jsxs("section",{className:K.file_input_text,children:[n.jsx(s,{}),n.jsx("p",{children:a})]})})]})}function X(e){const n=new FormData;for(let[t,a]of Object.entries(e))n.append(t,a);return n}function B(){const n=e.useContext(A)?.userState.user;let t=[];return{role:function(e){return e.includes(n?.role||"User")||t.push(1),this},equal:function(e,a){return n?.[e]!==a&&t.push(1),this},roleAndEqual:function(e,a,r){return n?.[a]===r&&e.includes(n?.role||"User")||t.push(1),this},roleOrEqual:function(e,a,r){return n?.[a]===r||e.includes(n?.role||"User")||t.push(1),this},permited:function(){const e=t.length<=0;return t=[],e}}}const H=e.createContext(void 0);function V({children:t}){const[a,r]=e.useState();return n.jsx(H.Provider,{value:{change:r,cache:a},children:t})}const z={pagination_loader_container:"s_",pagination_loader_button:"t_",loader:"u_"};function F(){return n.jsxs("div",{className:`${z.pagination_loader_container} flex-row-center-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:z.pagination_loader_button}),n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("div",{className:z.pagination_loader_button}),n.jsx("div",{className:z.pagination_loader_button}),n.jsx("div",{className:z.pagination_loader_button}),n.jsx("div",{className:z.pagination_loader_button}),n.jsx("div",{className:z.pagination_loader_button})]}),n.jsx("div",{style:{width:"4rem"},className:z.pagination_loader_button})]})}const q={data_loader_container:"-_",data_loader_avatar:"a_",data_loader_animation:"b_",loader:"c_"};function J(){return n.jsx("div",{className:q.data_loader_container,children:[...Array(20)].map(((e,t)=>n.jsx("div",{style:{height:"fit-content",padding:"0.5rem"},className:"main-content-container",children:n.jsxs("div",{className:"flex-column-normal-normal-small",children:[n.jsxs("div",{className:"flex-row-normal-normal-small",children:[n.jsx("div",{className:`${q.data_loader_avatar} ${q.data_loader_animation}`}),n.jsxs("div",{style:{width:"100%"},className:"flex-column-normal-normal-small",children:[n.jsx("div",{style:{width:"50%",height:"100%",padding:"0.5rem"},className:q.data_loader_animation}),n.jsx("div",{style:{width:"75%",height:"1rem",padding:"0.5rem"},className:q.data_loader_animation})]})]}),n.jsxs("div",{className:"flex-row-normal-normal-small",children:[n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:q.data_loader_animation}),n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:q.data_loader_animation}),n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:q.data_loader_animation})]})]})},Math.random()*t+100)))})}function Q(n){const t=n.deps.join("-"),a=n.prev?.join("-"),r=e.useContext(H),s=r?.cache?.[t],i=r?.cache?.[a||"NO_DATA"]?.data;let o=e.useRef(),l=e.useRef(!0);async function c(){const e=r?.cache?.[t]?.data;if(!e&&n.request){r.change((e=>({...e,[t]:{isFetching:!0,isPending:!0,isMutating:!1}})));try{const e=await n.request(n.deps);if(n.noCache)return o.current=e,void r.change((e=>({...e,[t]:{isFetching:!1,isPending:!1,isMutating:!1}})));r.change((n=>({...n,[t]:{data:e,isFetching:!1,isPending:!1,isMutating:!1}})))}catch(oe){r.change((n=>({...n,[t]:{isFetching:!1,isMutating:!1,isPending:!1,error:oe instanceof Error?{code:503,message:"Service Unavailable!"}:JSON.parse(oe)}})))}}else r.change((n=>({...n,[t]:{isFetching:!1,isMutating:!1,isPending:!1,data:e}})));l.current=!1}return e.useEffect((()=>{(n.enabled||void 0===n.enabled)&&c()}),n.deps),{...s,data:n.noCache?o.current:s?.data,isPending:(d=s?.isPending,void 0===d||s.isPending),isFetching:l.current&&!s?.error,prev:i,mutate:async function(e){const{key:t,request:a}=e,s=r?.cache?.[e.key.join("-")];try{r.change((e=>({...e,[t.join("-")]:{...s,isPending:!1,isMutating:!0}})));const i=await a({deps:e.key,state:s?.data,removeCache:function(e){r?.change?.((n=>({...n,[e]:{...s,isPending:!1,data:void 0}})))}});if(!i)return;if(n.noCache)return o.current=i,void r?.change?.((e=>({...e,[t.join("-")]:{...s,isPending:!1,isMutating:!1}})));r?.change?.((e=>({...e,[t.join("-")]:{...s,isPending:!1,isMutating:!1,data:i}})))}catch(oe){r.change((n=>({...n,[t.join("-")]:{...s,isPending:!1,isMutating:!1,error:oe instanceof Error?{code:503,message:"Service Unavailable!"}:JSON.parse(oe)}})))}},request:c,changeError:function(e,n){r?.change?.((t=>({...t||{},[e.join("-")]:{...(t||{})?.[e.join("-")]||{},error:n}})))}};var d}function W(e,n){const t=/\[([a-z\s]+?)\]/g,a=e.match(/\[[a-z\s]+?\]/g);let r=e,s=0;for(;a?.[s];){const e=a[s].replace(t,"$1");r=r.replace(`[${e}]`,n[e].toString()),s++}return r}function Y(e){return parseInt(String(Math.abs(e)))}const Z={getDifference:function(e){if(!e)return this;const n=Date.parse(e)-Date.now();let t={second:Y(n/1e3%60),minute:Y(n/1e3/60%60),hour:Y(n/36e5%24),day:Y(n/864e5%9),month:Y(n/6048e5%12),year:Y(n/72576e5%365)};return{...this,differenceObject:t}},getDifferenceString:function(e){const n=/(\$)/;let t={day:"",hour:"",minute:"",month:"",second:"",year:""};return this.differenceObject?(e.year?t.year=e.year.replace(n,this.differenceObject.year.toString()):e.month?t.month=e.month.replace(n,this.differenceObject.month.toString()):e.day?t.day=e.day.replace(n,this.differenceObject.day.toString()):e.hour?t.hour=e.hour.replace(n,this.differenceObject.hour.toString()):e.minute?t.minute=e.minute.replace(n,this.differenceObject.minute.toString()):e.second&&(t.second=e.second.replace(n,this.differenceObject.second.toString())),{...this,differenceObjectString:t}):{...this,differenceObjectString:t}},getSortDate:function(e){const n=this.differenceObject;return n?n.year>0&&e.year?W(e.year,n):n.month>0&&e.month?W(e.month,n):n.day>0&&e.day?W(e.day,n):n.hour>0&&e.hour?W(e.hour,n):n.minute>0&&e.minute?W(e.minute,n):n.second>0&&e.second?W(e.second,n):"":""}};function ee(e){return Array.isArray(e)?e.map((e=>`${e[0].toUpperCase()}${e.slice(1,-1)}`)):`${e[0].toUpperCase()}${e.slice(1,e.length)}`}const ne={content_viewer_container:"oc",content_viewer_post_empty:"pc",content_view_parse_error:"qc"},te={LINK_REGEXP:/\[(.*?);(.*?)\]/g,IMAGE_REGEXP:/\((.*?);(.*?);?(.*?)\)/g,QUOTE_BRACKETS_REGEXP:/\(?(.*?)\)?\"{2}([^""]+?)\"{2}/gm,BOLD_REGEXP:/#(.*?)#/g,HEADER_REGEXP_1:/#{2}(.*?)#{2}/,HEADER_REGEXP_2:/#{3}(.*?)#{3}/,VIDEO_REGEXP:/\(\[(.+)\]\)/g,DEFAULT_REGEXP:/\[(.*?)\]/g,SQUARE_BRACKETS_REGEXP:/^\[(.*)\]$/g,PAIR_BRACKETS_REGEXP:/\((.*?)\)/g,TAG_BRACKET_REGEXP:/<.*>(.*)<.*>/,HTTPS_PROTOCOL_REGEXP:/((blob:?.+https?)|https):\/{2}/g,HTML_TAG_WITH_HANDLERS_REGEXP:/<.*? on.* .*?>/gm,SCRIPT_TAG_REGEXP:/<script.*?>([\s\S]*?)<\/script>/gm},ae={secureURL:function(e){return te.HTTPS_PROTOCOL_REGEXP.lastIndex=0,te.HTTPS_PROTOCOL_REGEXP.test(e)},secureHTMLTag:function(e){return te.SCRIPT_TAG_REGEXP.lastIndex=0,te.HTML_TAG_WITH_HANDLERS_REGEXP.lastIndex=0,!te.SCRIPT_TAG_REGEXP.test(e)&&!te.HTML_TAG_WITH_HANDLERS_REGEXP.test(e)}},re={bold:function(e){return te.BOLD_REGEXP.lastIndex=0,te.BOLD_REGEXP.test(e)},header1:function(e){return te.HEADER_REGEXP_1.lastIndex=0,te.HEADER_REGEXP_1.test(e)},header2:function(e){return te.HEADER_REGEXP_2.lastIndex=0,te.HEADER_REGEXP_2.test(e)},img:function(e){return te.IMAGE_REGEXP.lastIndex=0,te.IMAGE_REGEXP.test(e)},link:function(e){return te.LINK_REGEXP.lastIndex=0,te.LINK_REGEXP.test(e)},video:function(e){return te.LINK_REGEXP.lastIndex=0,te.VIDEO_REGEXP.test(e)},lineIntendention:function(e){return"-"===e[0]},listItem:function(e){return"+"===e[0]},quote:function(e){return te.QUOTE_BRACKETS_REGEXP.lastIndex=0,te.QUOTE_BRACKETS_REGEXP.test(e)}},se={splitLineOnTags:function(e){if(!te.TAG_BRACKET_REGEXP.test(e))return[e];let n=[],t="",a=!1,r="";for(let s=0;s<e.length;s++){const i=e[s];"<"!==i||a||(a=!0,r=e[s+1],n.push(t),t=""),"/"!==i||"<"!==e[s-1]||">"!==e[s+2]||r!==e[s+1]?(t+=i,t.length>0&&s+1===e.length&&n.push(t)):(n.push(`${t}/${e[s+1]}>`),a=!1,t="",r="",s+=2)}return n.filter((e=>e))}};class ie extends Error{constructor(e){super(e.message),this.name="Error by parsing content"}}const oe={throw:function(e){throw new ie(e)}},le={lineIntendention:function(){return'<div class="intendention"></div>'},header2:function(e){return e.replace(te.HEADER_REGEXP_2,'<h2 class="header header_2">$1</h2>')},header1:function(e){return e.replace(te.HEADER_REGEXP_1,'<h1 class="header header_1">$1</h1>')},bold:function(e){return e.replace(te.BOLD_REGEXP,'<b class="bold container_flex">$1</b>')},listItem:function(e,n){let t="",a={},r=[];for(;e.index<n.length&&re.listItem(n[e.index]);){let t=n[e.index].replace("+","");re.link(t)&&(t=this.link(t)),a[e.index]={text:t},e.index++}r=Object.entries(a);for(let[s,i]of r)t+="<li>"+i.text+"</li>";return'<ul class="list">'+t+"</ul>"},img:function(e,n){let t="",a={},r=[];for(;e.index<n.length&&re.img(n[e.index]);){const[t,r,s]=n[e.index].replace(te.PAIR_BRACKETS_REGEXP,"$1").split(/;/);!s&&ae.secureURL(r)?a[e.index]={text:t,link:r}:s&&ae.secureURL(s)?a[e.index]={text:t,link:s,context:r}:oe.throw({content:n[e.index],function:"parseAs.img",message:`"context": ${r} or "src": ${s} is not defined or not secure!`}),e.index++}r=Object.entries(a);for(let[s,i]of r)i.context?t+='\n          <div class="img_with_context flex-column-center-center-medium">\n            <a target="_blank" href="'+i.link+'"><img src="'+i.link+'"alt="'+i.text+'"></a>\n            <p>'+i.context+"</p>\n          </div>\n        ":t+='<a target="_blank" href="'+i.link+'"><img class="img" src="'+i.link+'"alt="'+i.text+'"></a>';return'<div style="flex-wrap: wrap;" class="flex-row-center-center-none">'+t+"</div>"},link:function(e){const n=e.match(te.LINK_REGEXP);let t=0,a=e;for(;n?.[t];){const r=n[t].replace(te.SQUARE_BRACKETS_REGEXP,"$1").split(/;/);ae.secureURL(r[1])||oe.throw({content:e,function:"parseAs.link",message:`Type of URL "${r[1]}" is "${typeof r[1]}", URL is not string or URL is not secure!`}),a=a.replace(n[t],'<a target="_blank" class="link content_flex" href="'+r[1]+'">'+r[0]+"</a>"),t++}return a},video:function(e){let n=e.replace(te.VIDEO_REGEXP,"$1");return ae.secureURL(n)||oe.throw({content:e,function:"parseAs.video",message:`Type of video URL "${n}" is "${typeof n}", video URL is not string or URL is not secure!`}),'\n        <div class="video_container flex-row-center-center-none">\n          <video controls src="'+n+'"></video>\n        </div>\n      '},paragraph:function(e){const n=se.splitLineOnTags(e);let t,a,r="";for(let s=0;s<n.length;s++)if(t=n[s],te.TAG_BRACKET_REGEXP.test(t))r+=t;else{a=t.split(" ");for(let e=0;e<a.length;e++)0!==a[e].length&&(r+=`<p>${a[e]}</p>`)}return r},quote:function(e){const n=e.replace(te.QUOTE_BRACKETS_REGEXP,"$1");let t=e.replace(te.QUOTE_BRACKETS_REGEXP,"$2");return re.bold(t)&&(t=this.bold(t)),'\n        <div class="quote_container flex-row-center-center-none">\n          <div class="quote_body">\n            '+(n?'<p class="quote_name">'+n+":</p>":"")+'\n            <svg class="quote_svg quote_start" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none" stroke="currentColor" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-quote"><path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/><path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/></svg>\n            <p>'+t+'</p>\n            <svg class="quote_svg quote_end" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none" stroke="currentColor" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-quote"><path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/><path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"/></svg>\n          </div>\n        </div>\n      '}},ce={regexp:te,kind:{BOLD:"BOLD",HEADER1:"HEADER1",HEADER2:"HEADER2",PARAGRAPH:"PARAGRAPH",QUOTE:"QUOTE",IMG:"IMG",LINK:"LINK",LIST:"LIST",VIDEO:"VIDEO"},is:ae,have:re,parseAs:le,tools:se,error:oe};function de({content:t,className:a}){const[r,s]=e.useState(""),[l,c]=e.useState("");return e.useEffect((()=>{try{s(function(e){if(!e)return"";let n=e.split("\\n"),t="";1===n.length&&(n=e.split("\n"));for(let a={index:0};a.index<n.length;a.index++)ce.have.lineIntendention(n[a.index])?t+=ce.parseAs.lineIntendention():ce.have.quote(n[a.index])?t+=ce.parseAs.quote(n[a.index]):ce.have.header2(n[a.index])?t+=ce.parseAs.header2(n[a.index]):ce.have.header1(n[a.index])?t+=ce.parseAs.header1(n[a.index]):ce.have.img(n[a.index])?(t+=ce.parseAs.img(a,n),a.index--):ce.have.video(n[a.index])?t+=ce.parseAs.video(n[a.index]):ce.have.listItem(n[a.index])?(t+=ce.parseAs.listItem(a,n),a.index--):(ce.have.bold(n[a.index])&&(n[a.index]=ce.parseAs.bold(n[a.index])),ce.have.link(n[a.index])&&(n[a.index]=ce.parseAs.link(n[a.index])),n[a.index]=ce.parseAs.paragraph(n[a.index]),n[a.index]='<div class="line flex-row-normal-normal-medium">'+n[a.index]+"</div>",t+=n[a.index]);return t='<div style="width: 100%;" class="flex-column-normal-normal-none">'+t+"</div>",ce.is.secureHTMLTag(t)||ce.error.throw({content:t,function:"parse",message:"HTML Contains handlers or script tag!"}),t}(t||"")),c("")}catch(oe){c(oe.message)}}),[]),n.jsx("div",{className:`${ne.content_viewer_container} ${a}`,dangerouslySetInnerHTML:r?{__html:r}:void 0,children:l?n.jsxs("div",{className:`${ne.content_view_parse_error} flex-row-center-center-medium`,children:[n.jsx(i,{}),l]}):0===r.length?n.jsxs("div",{className:`${ne.content_viewer_post_empty} flex-row-center-center-big`,children:[n.jsx(o,{}),n.jsx("p",{children:"Post is empty"})]}):null})}const me={empty_container:"l_"};function ue({label:e,option:t}){let a={fontSize:`${{SMALL:1,MEDIUM:1.25,LARGE:1.5}[t?.size||"MEDIUM"]}rem`,textAlign:{CENTER:"center",LEFT:"left",RIGHT:"right"}[t?.align||"CENTER"],height:{SMALL:"10%",MEDIUM:"50%",FULL:"100%"}[t?.height||"FULL"]};return t?.flexCenterCenter&&(a={...a,display:"flex",alignItems:"center",justifyContent:"center"}),n.jsx("div",{style:a,className:me.empty_container,children:n.jsx("p",{children:e})})}const _e={pagination_list_button:"yc",pagination_curr_page:"zc"};function pe({pagesCount:e,listKey:t}){const{pathname:a}=l(),r=I(),s=`${t||"list"}-page`,i=parseInt(r.get(s)||"0"),o=n=>{if("next"===n){const n=i+1>e-1?i:i+1;r.set({[s]:n})}else{const e=i-1<0?0:i-1;r.set({[s]:e})}},u=e=>{r.set({[s]:e})};return n.jsxs("section",{className:`${_e.pagination_list_container} flex-row-normal-space-between-medium`,children:[n.jsx("button",{onClick:()=>o("preview"),className:`${_e.pagination_list_button} flex-row-center-center-none`,children:n.jsx(c,{})}),n.jsxs("div",{className:"flex-row-normal-normal-none",children:[i-3>=0?n.jsx(d,{className:`${_e.pagination_list_button} flex-row-center-center-none`,to:`${a}?${s}=0`,children:"..."}):null,[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${_e.pagination_list_button} ${i===t?_e.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(i-(1===i?1:2),i),[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${_e.pagination_list_button} ${i===t?_e.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(i,i+1),[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${_e.pagination_list_button} ${i===t?_e.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(i+1,i+3),i+3<e?n.jsx(d,{className:`${_e.pagination_list_button} flex-row-center-center-none`,to:`${a}?${s}=${e-1}`,children:"..."}):null]}),n.jsx("button",{onClick:()=>o("next"),className:`${_e.pagination_list_button} flex-row-center-center-none`,children:n.jsx(m,{})})]})}const he={mutating_loader_container:"o_",mutating_loader:"p_",left:"q_",right:"r_"};function xe(){return n.jsx("div",{className:`${he.mutating_loader_container} flex-row-center-center-none`,children:n.jsx("span",{className:he.mutating_loader})})}const fe={modal_error_container:"d_",modal_error_body:"e_",modal_error_header:"f_",modal_error_text:"g_",modal_error_code:"h_"};function ge({error:t,removeError:a}){const r=I(),s=JSON.parse(r.get("is-error-modal-open")||"false");return e.useEffect((()=>{t&&r.set({"is-error-modal-open":!0})}),[]),n.jsx("div",{style:{display:s&&t?"flex":"none"},className:`${fe.modal_error_container} flex-row-center-center-none`,children:n.jsxs("div",{className:`${fe.modal_error_body} flex-column-normal-normal-none`,children:[n.jsxs("div",{className:`${fe.modal_error_header} flex-row-center-space-between-none`,children:[n.jsxs("div",{className:"flex-row-center-center-medium",children:[n.jsx(u,{size:17}),n.jsx("p",{children:"Some error!"})]}),n.jsx(i,{onClick:()=>{r.remove(["is-error-modal-open"]),a&&a()},size:17})]}),n.jsxs("div",{className:fe.modal_error_text,children:[n.jsxs("p",{className:fe.modal_error_code,children:[t?.code,"!"]}),n.jsx("p",{children:t?.message}),n.jsxs("div",{style:{flexWrap:"wrap",rowGap:"0rem"},className:"flex-row-normal-normal-small",children:[n.jsx("button",{onClick:()=>{window.location.reload()},children:"Refresh"}),n.jsx("p",{children:"the page or write a"}),n.jsx(d,{to:"/",children:"E-mail."})]})]})]})})}const je={pagination_button_style:"D_",pagination_button_disabled:"E_",pagination_container:"F_",pagination_body:"G_",pagination_curr_page:"H_"};function ve({pagesCount:e,disableOn:t}){const{pathname:a}=l(),r=I(),s=parseInt(r.get("page")||"0"),i=t?je.pagination_button_disabled:"",o=n=>{if("next"===n){const n=s+1>e-1?s:s+1;r.set({page:n})}else{const e=s-1<0?0:s-1;r.set({page:e})}};return n.jsxs("div",{className:`${je.pagination_container} flex-row-center-space-between-none`,children:[n.jsx("button",{className:`${je.pagination_button_style} flex-row-center-center-none`,onClick:()=>o("preview"),children:n.jsx(c,{})}),n.jsxs("ul",{className:`${je.pagination_body} flex-row-center-normal-small`,children:[s>=3?n.jsx(d,{tabIndex:-1,className:`${i} ${je.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=0`,children:"..."}):null,[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===s?`${i} ${je.pagination_curr_page} ${je.pagination_button_style} flex-row-center-center-none`:`${je.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(s-(1===s?1:2),s),[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===s?`${i} ${je.pagination_curr_page} ${je.pagination_button_style} flex-row-center-center-none`:`${je.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(s,s+1),[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===s?`${i} ${je.pagination_curr_page} ${je.pagination_button_style} flex-row-center-center-none`:`${je.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(s+1,s+3),s<=e-4?n.jsx(d,{tabIndex:-1,className:`${i} ${je.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${e-1}`,children:"..."}):null]}),n.jsx("button",{className:`${je.pagination_button_style} flex-row-center-center-none`,onClick:()=>o("next"),children:n.jsx(m,{})})]})}const ye="a";function we(e,n){if("object"!=typeof e||Array.isArray(e))return!1;for(let t=0;t<n.length;t++)if(Object.hasOwn(e,n[t]))return!0;return!1}const be={admin_side_menu_list_container:"m_",admin_side_menu_body:"n_"};function Ne(){const e=_(),t=n=>{e(`/admin/${n}`)};return n.jsxs("div",{className:be.admin_side_menu_list_container,children:[n.jsx("div",{className:be.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("post"),className:"flex-row-center-normal-medium",children:[n.jsx(p,{}),n.jsx("p",{children:"Posts"})]})}),n.jsx("div",{className:be.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("comment"),className:"flex-row-center-normal-medium",children:[n.jsx(h,{}),n.jsx("p",{children:"Comments"})]})}),n.jsx("div",{className:be.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("user"),className:"flex-row-center-normal-medium",children:[n.jsx(x,{}),n.jsx("p",{children:"Users"})]})})]})}const Ee={content_author_avatar:"y_",content_author_name:"z_",content_author_registrated:"A_",content_content:"B_",content_no_data_about_author:"C_"},$e={data_wrapper_container:"gc"};function Re({children:e,id:t}){const a=I();return n.jsx("div",{onClick:()=>{a.set({id:t})},className:`${$e.data_wrapper_container} main-content-container`,children:e})}function Ae({contentData:e,authorData:t}){return n.jsx(Re,{id:e._id,children:n.jsxs("div",{style:{justifyContent:"space-between"},className:"flex-column-normal-normal-medium",children:[t?n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("img",{className:Ee.content_author_avatar,src:t.avatar,alt:t.name}),n.jsxs("div",{className:"flex-column-normal-norma-none",children:[n.jsx("p",{className:Ee.content_author_name,children:t.name}),n.jsx("p",{className:Ee.content_author_registrated,children:Z.getDifference(e.createdAt)})]})]}):n.jsxs("div",{className:`${Ee.content_no_data_about_author} flex-row-center-normal-medium`,children:[n.jsx(f,{}),n.jsxs("div",{children:[n.jsx("p",{children:"Author not found!"}),n.jsx("p",{className:Ee.content_author_registrated,children:Z.getDifference(e.createdAt)})]})]}),n.jsx("p",{className:Ee.content_content,children:e.content})]})})}const Ce={user_preview_author:"J",user_preview_name:"K",user_preview_registrated:"L",user_preview_some_data:"M"};function Ie({user:e}){const t="Admin"===e.role?"#F48023":"#1682FD";return n.jsx(Re,{id:e._id,children:n.jsxs("div",{className:"flex-column-normal-normal-none",children:[n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("img",{className:Ce.user_preview_author,src:e.avatar,alt:e.name}),n.jsxs("div",{children:[n.jsx("p",{className:Ce.user_preview_name,children:e.name}),n.jsx("p",{className:Ce.user_preview_registrated,children:Z.getDifference(e.createdAt)})]})]}),n.jsxs("div",{className:`${Ce.user_preview_some_data} flex-row-normal-normal-none`,children:[n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Content:"}),n.jsx("p",{children:(e.myContent||[]).length})]}),n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Liked:"}),n.jsx("p",{children:(e.likedContent||[]).length})]}),n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Role:"}),n.jsx("p",{style:{color:t},children:e.role})]})]})]})})}const Pe={post_list_container:"cc",post_list_body:"dc",post_auhtor_container:"ec",post_author_data_body:"fc"},Se={data_simple_container:"Vc",data_simple_content:"Wc",data_simple_key:"Xc",data_simple_value:"Yc",data_simple_copyied:"Zc"};function Te({propKey:t,propValue:a,useParser:r,useCopyBoard:s}){const[i,o]=e.useState(void 0);return e.useEffect((()=>{i&&setTimeout((()=>o(!1)),200)}),[i]),n.jsxs("section",{className:`${Se.data_simple_container} flex-row-center-space-between-none`,children:[n.jsx("p",{className:Se.data_simple_key,children:t}),n.jsxs("div",{className:"flex-row-center-center-medium",children:[r?n.jsx(de,{className:Se.data_simple_content,content:a}):n.jsx("p",{className:Se.data_simple_value,children:a}),s?n.jsx(g,{className:i?Se.data_simple_copyied:"",onClick:async()=>{await navigator.clipboard.writeText(a),o(!0)},size:15}):null]})]})}const ke={modal_wrapper_container:"vc",modal_wrapper_body:"wc",modal_wrapper_header:"xc"},Le={data_modal_wrapper_container:"Mc",data_modal_wrapper_data_body:"Nc",data_modal_wrapper_loader_animation:"Oc",loader:"Pc"},Oe={admin_action_button:"Uc"};function Ge({optionAction:t,contentData:a}){const[r,s]=e.useState(!1),i=I(),l=_(),{tab:c}=j(),d=["user","comment","post"].includes(c||"")?c:"post",m=i.get("id"),u=parseInt(i.get("page")||"0"),{mutate:p}=Q({deps:[]}),h={remove:{icon:n.jsx(v,{color:r?"#8a0000":"white"}),color:"#8a0000"},edit:{icon:n.jsx(o,{color:r?"#F48023":"white"}),color:"#F48023"}},x={backgroundColor:h[t.actionType].color,border:`1px solid ${h[t.actionType].color}`},f=e=>{"mouseleave"===e.type?s(!1):s(!0)};return n.jsx("button",{onMouseEnter:f,onMouseLeave:f,onClick:()=>{if("edit"===t.actionType)return a?(E.set(a._id,{...a,isFromAdmin:!0,contentType:d,onPage:u}),l(`/write-post?is-edit=true&content-id=${a._id}`)):i.set({"user-edit-modal":!0});p({key:[`${d}-${u}`],request:async e=>{const n=await $.post(`/admin/remove/${ee(c)}/${m}`,{Authorization:`Bearer ${R.getOne("PR_TOKEN")}`});return 1===e.state?.data.length?l(`/admin/${c}?page=${u-1<=0?0:u-1}`):l(`/admin/${c}?page=${u}`),{pagesCount:e.state?.pagesCount||0,data:e.state?.data.filter((e=>e._id!==n._id))||[]}}})},style:x,className:`${Oe.admin_action_button}`,children:n.jsx("section",{className:"flex-row-center-center-none",children:h[t.actionType].icon})})}function De(){return n.jsxs("div",{className:`${Le.data_modal_wrapper_container} flex-column-normal-normal-medium`,children:[n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-15%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(Ge,{optionAction:{actionType:"remove"}}),n.jsx(Ge,{optionAction:{actionType:"edit"}})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"2rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"11rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"5rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"9rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"3rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"6rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"11rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"3.5rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"5rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Le.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:`${Le.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"3rem"},className:`${Le.data_modal_wrapper_loader_animation}`})]})]})}function Me({Component:t}){const a=I(),{tab:r}=j(),s=["comment","post","user"].includes(r||"")?r:"post",o=a.get("id"),l=a.get("page")||"0",{data:c,isPending:d}=Q({deps:[`${s}-${l}`]}),m=c?.data&&c.data.find((e=>e._id===o));return n.jsxs(e.Fragment,{children:[m||!o||d?null:n.jsx(ge,{error:{code:404,message:`${ee(s)} not found!`}}),o?n.jsx("div",{className:`${ke.modal_wrapper_container} flex-row-center-center-none`,children:n.jsxs("div",{className:`${ke.modal_wrapper_body} main-content-container flex-column-normal-normal-none`,children:[n.jsxs("section",{className:`${ke.modal_wrapper_header} flex-row-center-space-between-none`,children:[n.jsx("p",{children:ee(s)}),n.jsx(i,{onClick:()=>{a.remove(["id"])},size:17})]}),d?n.jsx(De,{}):m?t({data:m}):null]})}):null]})}const Ke={burger_data_wrapper_container:"Kc",burger_data_wrapper_key:"Lc"};function Ue({propKey:t,children:a}){const[r,s]=e.useState(!1),i=e.useRef(null),o=e.useRef(0),l=e.cloneElement(a,{ref:i});return e.useEffect((()=>{i.current&&(o.current=i.current.getBoundingClientRect().height+7)}),[]),n.jsxs("div",{className:Ke.burger_data_wrapper_container,children:[n.jsx("p",{onClick:()=>{s((e=>!e))},className:Ke.burger_data_wrapper_key,children:t}),n.jsx("div",{style:{height:r?o.current:0,overflow:"auto",maxHeight:"15rem",transition:"all 0.2s ease"},children:l})]})}function Xe(){const e=I(),t=parseInt(e.get("views-page")||"0"),a=parseInt(e.get("likes-page")||"0"),r=10*t,s=r+10,i=10*a,o=i+10;return n.jsx(Me,{Component:e=>{const t=e.data.viewedBy?.slice(r,s)||[],a=e.data.likedBy.slice(i,o)||[],l=Math.ceil(t.length/10),c=Math.ceil(a.length/10);return n.jsxs("div",{style:{width:"50rem",position:"relative"},className:"flex-column-normal-normal-small",children:[n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-7%",zIndex:"-1",top:"-1.3%"},className:"flex-column-normal-normal-small",children:[n.jsx(Ge,{optionAction:{actionType:"remove"}}),n.jsx(Ge,{optionAction:{actionType:"edit"},contentData:e.data})]}),n.jsx(Ue,{propKey:"Auhor:",children:e.data.author?n.jsxs(d,{to:`/admin/user?id=${e.data.author._id}`,className:`${Pe.post_auhtor_container} flex-row-normal-normal-medium`,children:[n.jsx("img",{src:e.data.author.avatar,alt:e.data.author.name}),n.jsxs("div",{className:`${Pe.post_author_data_body} flex-column-normal-normal-none`,children:[n.jsx("p",{children:e.data.author.name}),n.jsx("p",{children:e.data.author.role}),n.jsx("p",{children:Z.getDifference(e.data.author.createdAt)}),n.jsx("p",{children:e.data.author.email})]})]}):n.jsx("div",{children:n.jsx(ue,{option:{size:"SMALL"},label:"No author found!"})})}),n.jsx(Ue,{propKey:"Views:",children:n.jsxs("div",{className:`${Pe.post_list_container} flex-column-normal-normal-none`,children:[l>1?n.jsx(pe,{pagesCount:l,listKey:"views"}):null,0===t.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have viewed!"}):n.jsx("ul",{className:Pe.post_list_body,children:t?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),n.jsx(Ue,{propKey:"Likes:",children:n.jsxs("div",{className:`${Pe.post_list_container} flex-column-normal-normal-none`,children:[c>1?n.jsx(pe,{pagesCount:c,listKey:"likes"}):null,0===a.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have liked!"}):n.jsx("ul",{className:Pe.post_list_body,children:a?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),n.jsx(Te,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),n.jsx(Te,{propKey:"Title:",propValue:e.data.title}),n.jsx(Te,{propKey:"Is hidden:",propValue:e.data.isHidden?"Yes":"No"}),n.jsx(Te,{propKey:"Tags:",propValue:e.data.tags?.join(", ")||"No tags"}),n.jsx(Te,{propKey:"Created at:",propValue:Z.getDifference(e.data.createdAt)}),n.jsx(Te,{propKey:"Updated at:",propValue:Z.getDifference(e.data.updatedAt)}),n.jsx(Te,{propKey:"Content:",propValue:e.data.content,useParser:!0})]})}})}const Be={comment_list_container:"Ya",comment_list_body:"Za",comment_auhtor_container:"_c",comment_author_data_body:"-c"};function He(){const e=I(),t=10*parseInt(e.get("comment-likes-page")||"0"),a=t+10;return n.jsx(Me,{Component:e=>{const r=e.data.likedBy.slice(t,a)||[],s=Math.ceil((e.data.likedBy?.length||0)/10);return n.jsxs("div",{className:"flex-column-normal-normal-small",children:[n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(Ge,{optionAction:{actionType:"remove"}}),n.jsx(Ge,{optionAction:{actionType:"edit"},contentData:e.data})]}),n.jsx(Te,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),n.jsx(Te,{propKey:"Written at:",propValue:Z.getDifference(e.data.createdAt)}),n.jsx(Te,{propKey:"Is hidden:",propValue:e.data.isHidden?"Yes":"No"}),n.jsx(Te,{propKey:"Content:",propValue:e.data.content,useParser:!0}),n.jsx(Ue,{propKey:"Auhor:",children:e.data.author?n.jsxs(d,{to:`/admin/user?id=${e.data.author._id}`,className:`${Be.comment_auhtor_container} flex-row-normal-normal-medium`,children:[n.jsx("img",{src:e.data.author.avatar,alt:e.data.author.name}),n.jsxs("div",{className:`${Be.comment_author_data_body} flex-column-normal-normal-none`,children:[n.jsx("p",{children:e.data.author.name}),n.jsx("p",{children:e.data.author.role}),n.jsx("p",{children:Z.getDifference(e.data.author.createdAt)}),n.jsx("p",{children:e.data.author.email})]})]}):n.jsx("div",{children:n.jsx(ue,{option:{size:"SMALL"},label:"No author found!"})})}),n.jsx(Ue,{propKey:"Likes:",children:n.jsxs("div",{className:`${Be.comment_list_container} flex-row-normal-normal-none`,children:[s>1?n.jsx(pe,{pagesCount:s,listKey:"coment-likes"}):null,0===r.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have liked!"}):n.jsx("ul",{className:Be.comment_list_body,children:r?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},e._id+100*Math.random())})))})]})})]})}})}const Ve={user_modal_user_content:"hc",user_modal_data_container:"ic"},ze={data_edit_modal_wrapper:"Ic",data_edit_modal_header:"Jc"};function Fe({children:e}){const t=I(),{tab:a}=j(),r=JSON.parse(t.get(`${a}-edit-modal`)||"false");return n.jsx("div",{style:{display:r?"flex":"none"},className:`${ze.data_edit_modal_wrapper} flex-row-center-center-none`,children:n.jsxs("div",{className:"main-content-container",children:[n.jsxs("div",{className:`${ze.data_edit_modal_header} flex-row-center-space-between-none`,children:[n.jsxs("p",{children:["Edit ",ee(a)]}),n.jsx(i,{onClick:()=>{t.remove([`${a}-edit-modal`])},size:17})]}),e]})})}const qe={select_list_wrapper:"Qc",select_list_title:"Rc",select_list_item:"Sc",select_list_item_selected:"Tc"};function Je({isMultiple:t}){const[a,r]=e.useState([]),s=e=>a.includes(e);return{selected:a,reset:()=>{r([])},SelectInput:function({children:e,title:t}){return n.jsxs("ul",{className:`${qe.select_list_wrapper} main-content-container`,children:[n.jsx("li",{className:qe.select_list_title,children:t}),e]})},SelectItem:function({children:e,value:a}){return n.jsx("li",{onClick:()=>(e=>{r((n=>t&&n.includes(e)?n.filter((n=>n!==e)):t?[...n,e]:n[0]===e?[]:[e]))})(a),className:`${qe.select_list_item} ${s(a)?qe.select_list_item_selected:""}`,children:e})}}}function Qe(){const e=I(),t=Je({}),a=Je({}),{submit:r,reset:s}=L([]),{mutate:i,isMutating:o}=Q({deps:[]}),l=parseInt(e.get("user-content")||"0"),c=parseInt(e.get("my-likes")||"0"),m=10*l,u=m+10,_=10*c,p=_+10,h=n=>{i({key:[`user-${e.get("page")||0}`],request:async r=>{const i=0===t.selected.length?void 0:t.selected[0],o=0===a.selected.length?void 0:a.selected[0],l=await $.post("/admin/user/update",X({...n,id:e.get("id"),role:i,ban:o}),{Authorization:`Bearer ${R.getOne("PR_TOKEN")}`});return t.reset(),a.reset(),s(),e.remove(["user-edit-modal"]),{pagesCount:r.state?.pagesCount||0,data:r.state?.data.map((e=>e._id===l._id?{...e,...l}:e))||[]}}})};return n.jsx(Me,{Component:e=>{const s=e.data.myContent?.slice(m,u)||[],i=e.data.likedContent.slice(_,p)||[],l=Math.ceil(s.length/10),c=Math.ceil(i.length/10);return n.jsxs(n.Fragment,{children:[n.jsx(Fe,{children:n.jsxs(G,{style:{border:"none",width:"25rem",boxShadow:"none",padding:"1rem"},buttonLabel:"Change user data",onSubmit:r(h),children:[n.jsx(M,{name:"name",placeholder:"Write new user name",defaultValue:e.data.name}),n.jsxs(t.SelectInput,{title:"User roles:",children:[n.jsx(t.SelectItem,{value:"Admin",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(y,{size:15}),n.jsx("p",{children:"Admin"})]})}),n.jsx(t.SelectItem,{value:"Creator",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(w,{size:15}),n.jsx("p",{children:"Creator"})]})}),n.jsx(t.SelectItem,{value:"User",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(b,{size:15}),n.jsx("p",{children:"User"})]})})]}),n.jsxs(a.SelectInput,{title:"Ban for:",children:[n.jsx(a.SelectItem,{value:"1",children:"1 Day"}),n.jsx(a.SelectItem,{value:"7",children:"7 Days"}),n.jsx(a.SelectItem,{value:"14",children:"14 Days"})]}),n.jsx(U,{label:"Change user avatar",name:"avatar",isChange:o})]})}),n.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(Ge,{optionAction:{actionType:"remove"}}),n.jsx(Ge,{optionAction:{actionType:"edit"}})]}),n.jsx(Te,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),n.jsx(Te,{propKey:"Email:",propValue:e.data.email,useCopyBoard:!0}),n.jsx(Te,{propKey:"Name:",propValue:e.data.name}),n.jsx(Te,{propKey:"Role:",propValue:e.data.role}),n.jsx(Te,{propKey:"Registrated:",propValue:Z.getDifference(e.data.createdAt)}),n.jsx(Te,{propKey:"Ban for:",propValue:Z.getDifference(e.data.ban)||"Not baned!"}),n.jsx(Ue,{propKey:`${e.data.name} content:`,children:n.jsxs("ul",{className:Ve.user_modal_user_content,children:[l>1?n.jsx(pe,{pagesCount:l,listKey:"user-content"}):null,0===s.length?n.jsx(ue,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have no content!"}):s.map((e=>n.jsx(d,{to:`/admin/${we(e,["viewedBy"])?"post":"comment"}?id=${e._id}`,children:n.jsxs("li",{className:"flex-column-normal-normal-none",children:[n.jsx("h5",{children:e.title}),n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Likes:"}),n.jsx("p",{children:e.likedBy.length})]}),e.viewedBy?n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Views:"}),n.jsx("p",{children:e.viewedBy.length})]}):null,e.comments?n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Comments:"}),n.jsx("p",{children:e.comments.length})]}):null]},e._id)})))]})}),n.jsx(Ue,{propKey:`${e.data.name} likes:`,children:n.jsxs("ul",{className:Ve.user_modal_user_content,children:[c>1?n.jsx(pe,{pagesCount:c,listKey:"my-likes"}):null,0===i.length?n.jsx(ue,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have not liked some one content!"}):i.map((e=>n.jsxs("li",{className:"flex-column-normal-normal-none",children:[n.jsx("h5",{children:e.title}),n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Likes:"}),n.jsx("p",{children:e.likedBy.length})]}),n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Views:"}),n.jsx("p",{children:e.viewedBy.length})]}),n.jsxs("section",{className:`${Ve.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Comments:"}),n.jsx("p",{children:e.comments.length})]})]},e._id)))]})})]})]})}})}function We(){const{tab:e}=j(),t=["post","comment","user"].includes(e||"")?e:"post";return n.jsx(n.Fragment,{children:"post"===t?n.jsx(Xe,{}):"comment"===t?n.jsx(He,{}):"user"===t?n.jsx(Qe,{}):null})}const Ye=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{tab:e}=j(),t=I();if(!B().role(["Admin"]).permited())return n.jsx(N,{to:"/"});const a=parseInt(t.get("page")||"0"),{isMutating:r,isPending:s,data:i,prev:o,error:l}=Q({deps:[`${e}-${a}`],prev:[`${e}-${0===a?a:a-1}`],request:async()=>await $.get(`/admin/${e}/${a}`,{Authorization:`Bearer ${R.getOne("PR_TOKEN")}`})}),c=i?.pagesCount||o?.pagesCount||0,d=we(i?.data?.[0]||{},["avatar","email"]);return n.jsxs("div",{className:"flex-row-normal-normal-none",children:[n.jsx(ge,{error:l}),n.jsx(We,{}),r?n.jsx(xe,{}):null,l?null:n.jsxs("div",{style:{paddingRight:"11rem",width:"100%"},className:"flex-column-normal-normal-medium",children:[s?n.jsx(F,{}):n.jsx(ve,{pagesCount:c}),0===i?.data.length&&n.jsx(ue,{option:{flexCenterCenter:!0},label:"Nothing found..."}),s?n.jsx(J,{}):n.jsx("div",{className:ye,children:i&&i.data.map((e=>d?n.jsx(Ie,{user:e},e._id):n.jsx(Ae,{contentData:e,authorData:e.author},e._id)))}),s?n.jsx(F,{}):n.jsx(ve,{pagesCount:c})]}),n.jsx(Ne,{})]})}},Symbol.toStringTag,{value:"Module"}));export{A,de as C,Z as D,ue as E,G as F,xe as M,pe as P,V as R,M as T,Q as _,B as a,ee as b,R as c,F as d,ve as e,$ as f,L as g,U as h,X as i,ce as j,ge as k,E as l,J as m,C as n,Ye as p,I as u};
