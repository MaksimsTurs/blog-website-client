import{u as e,r as t,j as n,B as a,C as s,F as r,X as o,P as i,a as l,M as c,L as d,b as m,O as u,c as p,H as _,d as h,E as x,e as g,T as j,f,U as b,g as y,h as v,i as w,k as N,l as $,S as E,m as C,n as k,N as R}from"../react.js";const A={baseURL:"https://fuck-putler.vercel.app",formatURL:function(e){return this.baseURL?`${this.baseURL}${e}`:e},formatInit:function(e,t){let n={headers:t||{},body:e||{}};return!e||e instanceof FormData?n:(t||(n.headers={"Content-Type":"application/json"}),t&&!("Content-Type"in t)&&(n.headers={...n.headers,"Content-Type":"application/json"}),{...n,body:JSON.stringify(e)})},get:async function(e,t){const n=await fetch(this.formatURL(e),{headers:this.formatInit(void 0,t).headers}),a=await n.json();if(!n.ok)throw JSON.stringify(a);return await a},post:async function(e,t,n){const a=this.formatInit(t,n),s=await fetch(this.formatURL(e),{method:"POST",body:a.body,headers:a.headers}),r=await s.json();if(!s.ok)throw JSON.stringify(r);return await r}};const I={getOne:function(e){return function(){let e={};return document.cookie.split(/\;/).forEach((t=>{const[n,a]=t.split(/\=/);e={...e,[n.trim()]:a}})),e}()[e]},set:function(e,t){document.cookie=`${e}=${t};path=/;expires=${60*Date.now()*60*24*7};`}};function S(){const[t,n]=e();return{get:e=>t.get(e),set:e=>{const t=Object.entries(e);n((e=>{for(let[n,a]of t)e.set(n,a);return e}))},remove:e=>{n((t=>{for(let n=0;n<e.length;n++)t.delete(e[n]);return t}))}}}let L={isMax:function(e,t){if("string"==typeof t&&e<t.length)return!1},isMin:function(e,t){if("string"==typeof t&&e>t.length)return!1},isPattern:function(e,t){if(!RegExp(e.trim()).test(t))return!1},isEqualWith:function(e,t){if("string"==typeof e&&"string"==typeof t&&e!==t)return!1}},P={};function T(e){const[t,n,a]=e.split(":");return{func:t,value:n,error:a}}function O(e){for(let t=0;t<e.length;t++){const n=e[t];if(n.children.length>0)return O(n.children);const a=n;a.type&&(a.value="")}}function D(e){const[n,a]=t.useState({errors:void 0}),s=t.useRef(null),r=t.useRef(!1);return{submit:function(t){return new Proxy(t,{apply:function(t,n,o){const i=o[0];i.preventDefault(),s.current=i.currentTarget,r.current=!0;const l=Object.fromEntries(new FormData(i.currentTarget).entries()),c=function(e,t){for(let n in e){const a=e[n],s=a[0],r=a[1];if(Array.isArray(r)){const e=[];for(let n in r){if(!r?.[n])continue;const{error:a,func:o,value:i}=T(r[n]);"isEqualWith"===o?(!1===L[o](t[i],t[s])&&e.push(a),P[s]=e[0]||e[e.length-1]||void 0):(!1===L[o](i,t[s])&&e.push(a),P[s]=e[0]||e[e.length-1]||void 0)}}else{if(!a[1])return P;const e=a[0],{func:n,value:s,error:o}=T(r),i=L[n](s,t[e]);if(!(n in L))throw new ReferenceError(`Object 'Check' have no function with name ${n}`);P[e]=void 0===i?void 0:o}}return P}(e,l),d=0===Object.values(c).filter((e=>e)).length;a((e=>({...e,errors:c}))),d&&t(l)}})},reset:function(){if(!r)throw new Error("Form must be submitted first!");O(s.current.children)},formState:n}}const K={form_body:"O_",form_error:"P_",form_button:"Q_",form_button_pending:"R_"};function M({onSubmit:e,children:t,errors:s,isPending:r,buttonLabel:o,className:i,title:l,style:c}){const d=r?"Submiting...":o||"Submit",m=r?`${K.form_button_pending} ${K.form_button}`:K.form_button;return n.jsxs("form",{onSubmit:e,className:`${i} flex-column-normal-normal-none`,children:[l?n.jsx("h3",{children:l}):null,n.jsxs("div",{style:c,className:`${K.form_body} main-content-container flex-column-center-center-medium`,children:[t,s&&s.length>0?n.jsx("div",{style:{width:"100%"},children:s.map((e=>n.jsxs("div",{className:`${K.form_error} flex-row-center-center-medium`,children:[n.jsx(a,{size:15}),n.jsx("p",{children:e},e)]})))}):null,o?n.jsx("button",{className:m,disabled:r,children:n.jsx("section",{className:"flex-row-center-center-medium",children:d})}):null]})]})}const G={text_input_container:"fa",text_input_error_icon:"ga",text_input_error_text_container:"ha",text_input_icon_hidden:"ia",text_input:"ja",text_input_invalid:"ka"};function V({name:e,defaultValue:t,placeholder:a,errors:r,onInput:o,type:i}){const l=r?.[e]?G.text_input_error_icon:`${G.text_input_error_icon} ${G.text_input_icon_hidden}`,c=r?.[e]?`${G.text_input_invalid} ${G.text_input}`:G.text_input;return n.jsxs("div",{className:G.text_input_container,children:[n.jsx("input",{name:e,defaultValue:t,onInput:o,placeholder:a,type:i||"text",className:c}),n.jsx(s,{className:l}),n.jsx("div",{className:G.text_input_error_text_container,children:n.jsx("span",{children:r?.[e]})})]})}const B={file_input_label:"Ma",file_input_text:"Na",file_input_uploaded_asset:"Oa",asset_input_buttons:"Pa",asset_button:"Qa"};function U({name:e,label:a,asset:s,initValue:l,isChange:c}){const[d,m]=t.useState(l),u=t.useRef(null),p=t.useRef(!1),_=S(),h=["image/webp","image/jpg","image/png","image/jpeg","video/mp4"],x=()=>{u.current&&(u.current.value=""),m(void 0)};return t.useEffect((()=>{x()}),[c,_.get("is-open")]),n.jsxs(t.Fragment,{children:[n.jsx("input",{ref:u,accept:h.join(","),id:e,name:e,type:"file",onChange:e=>{const t=e.currentTarget.files[0];t.type.search("video")>-1?p.current=!0:p.current=!1,h.includes(t.type)&&(m(URL.createObjectURL(t)),s&&(s.current=t))}}),d?n.jsxs("div",{className:B.file_input_label,children:[p.current?n.jsx("video",{className:B.file_input_uploaded_asset,src:d}):n.jsx("img",{className:B.file_input_uploaded_asset,src:d,alt:"User uploaded avatar"}),n.jsxs("section",{className:`${B.asset_input_buttons} flex-column-normal-normal-medium`,children:[n.jsx("button",{className:`${B.asset_button} flex-row-center-center-none`,type:"button",onClick:x,children:n.jsx(o,{})}),n.jsx("label",{className:`${B.asset_button} flex-row-center-center-none`,htmlFor:e,children:n.jsx(i,{})})]})]}):n.jsx("label",{className:B.file_input_label,htmlFor:e,children:n.jsxs("section",{className:B.file_input_text,children:[n.jsx(r,{}),n.jsx("p",{children:a})]})})]})}function X(e){const t=new FormData;for(let[n,a]of Object.entries(e))t.append(n,a);return t}const F=t.createContext(void 0);function z({children:e}){const[a,s]=t.useState();return n.jsx(F.Provider,{value:{change:s,cache:a},children:e})}const H={pagination_loader_container:"f_",pagination_loader_button:"g_",loader:"h_"};function q(){return n.jsxs("div",{className:`${H.pagination_loader_container} flex-row-center-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:H.pagination_loader_button}),n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("div",{className:H.pagination_loader_button}),n.jsx("div",{className:H.pagination_loader_button}),n.jsx("div",{className:H.pagination_loader_button}),n.jsx("div",{className:H.pagination_loader_button}),n.jsx("div",{className:H.pagination_loader_button})]}),n.jsx("div",{style:{width:"4rem"},className:H.pagination_loader_button})]})}const J={data_loader_container:"ba",data_loader_avatar:"ca",data_loader_animation:"da",loader:"ea"};function W(){return n.jsx("div",{className:J.data_loader_container,children:[...Array(20)].map(((e,t)=>n.jsx("div",{style:{height:"fit-content",padding:"0.5rem"},className:"main-content-container",children:n.jsxs("div",{className:"flex-column-normal-normal-small",children:[n.jsxs("div",{className:"flex-row-normal-normal-small",children:[n.jsx("div",{className:`${J.data_loader_avatar} ${J.data_loader_animation}`}),n.jsxs("div",{style:{width:"100%"},className:"flex-column-normal-normal-small",children:[n.jsx("div",{style:{width:"50%",height:"100%",padding:"0.5rem"},className:J.data_loader_animation}),n.jsx("div",{style:{width:"75%",height:"1rem",padding:"0.5rem"},className:J.data_loader_animation})]})]}),n.jsxs("div",{className:"flex-row-normal-normal-small",children:[n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:J.data_loader_animation}),n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:J.data_loader_animation}),n.jsx("div",{style:{flexGrow:"1",height:"1.5rem"},className:J.data_loader_animation})]})]})},Math.random()*t+100)))})}function Y(e){const n=e.deps.join("-"),a=e.prev?.join("-"),s=t.useContext(F),r=s?.cache?.[n],o=s?.cache?.[a||"NO_DATA"]?.data;let i=t.useRef(),l=t.useRef(!0);async function c(){const t=s?.cache?.[n]?.data;if(!t&&e.request){s.change((e=>({...e,[n]:{isFetching:!0,isPending:!0,isMutating:!1}})));try{const t=await e.request(e.deps);if(e.noCache)return i.current=t,void s.change((e=>({...e,[n]:{isFetching:!1,isPending:!1,isMutating:!1}})));s.change((e=>({...e,[n]:{data:t,isFetching:!1,isPending:!1,isMutating:!1}})))}catch(a){s.change((e=>({...e,[n]:{isFetching:!1,isMutating:!1,isPending:!1,error:a instanceof Error?{code:503,message:"Service Unavailable!"}:JSON.parse(a)}})))}}else s.change((e=>({...e,[n]:{isFetching:!1,isMutating:!1,isPending:!1,data:t}})));l.current=!1}return t.useEffect((()=>{(e.enabled||void 0===e.enabled)&&c()}),e.deps),{...r,data:e.noCache?i.current:r?.data,isPending:(d=r?.isPending,void 0===d||r.isPending),isFetching:l.current&&!r?.error,prev:o,mutate:async function(t){const{key:n,request:a}=t,r=s?.cache?.[t.key.join("-")];try{s.change((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!0}})));const o=await a({deps:t.key,state:r?.data,removeCache:function(e){s?.change?.((t=>({...t,[e]:{...r,isPending:!1,data:void 0}})))}});if(!o)return;if(e.noCache)return i.current=o,void s?.change?.((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!1}})));s?.change?.((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!1,data:o}})))}catch(o){s.change((e=>({...e,[n.join("-")]:{...r,isPending:!1,isMutating:!1,error:JSON.parse(o)}})))}},request:c,changeError:function(e,t){s?.change?.((n=>({...n||{},[e.join("-")]:{...(n||{})?.[e.join("-")]||{},error:t}})))}};var d}function Q(e){return parseInt(String(Math.abs(e)))}const Z={getDifference:function(e){if(!e)return"";const t=function(e,t){const n=e-t;return{second:Q(n/1e3%60),minute:Q(n/1e3/60%60),hour:Q(n/36e5%24),day:Q(n/864e5%9),month:Q(n/6048e5%12),year:Q(n/72576e5%365)}}(Date.parse(e),Date.now());return t.year>0?`${t.year}:${t.month}`:t.month>0?`${t.month} months ${t.day} days ago!`:t.day>0?`${t.day} days ${t.hour} hourse ago!`:t.hour>0?`${t.hour} hourse ago!`:t.minute>0?`${t.minute} minutes ${t.second} seconds ago!`:t.second>0?`${t.second} seconds ago!`:void 0}};function ee(e){return Array.isArray(e)?e.map((e=>`${e[0].toUpperCase()}${e.slice(1,-1)}`)):`${e[0].toUpperCase()}${e.slice(1,e.length)}`}const te="Ja",ne="Ka",ae={LINK_REGEXP:/\[(.*?);(.*?)\]/g,IMAGE_REGEXP:/\((.*?);(.*?)\)/g,HEADER_REGEXP:/##(.*?)##/,BOLD_REGEXP:/#(.*?)#/g,VIDEO_REGEXP:/\[.+\.(mp4|mp3)\]/g,DEFAULT_REGEXP:/\[(.*?)\]/g,SECURE_PROTOCOL_REGEXP:/((blob:?.+https?)|https):\/{1,2}/g,SQUARE_BRACKETS_REGEXP:/^\[(.*)\]$/g,PAIR_BRACKETS_REGEXP:/\((.*?)\)/g,TAG_BRACKET_REGEXP:/<.*>(.*)<.*>/},se={secureLink:function(e){return ae.SECURE_PROTOCOL_REGEXP.lastIndex=0,ae.SECURE_PROTOCOL_REGEXP.test(e)},imageTag:function(e){return/<img/.test(e)}},re={bold:function(e){return ae.BOLD_REGEXP.lastIndex=0,ae.BOLD_REGEXP.test(e)},header:function(e){return ae.HEADER_REGEXP.lastIndex=0,ae.HEADER_REGEXP.test(e)},img:function(e){return ae.IMAGE_REGEXP.lastIndex=0,ae.IMAGE_REGEXP.test(e)},link:function(e){return ae.LINK_REGEXP.lastIndex=0,ae.LINK_REGEXP.test(e)},video:function(e){return ae.LINK_REGEXP.lastIndex=0,ae.VIDEO_REGEXP.test(e)},lineBreak:function(e){return"-"===e[0]},listItem:function(e){return"+"===e[0]}},oe={splitLineOnTags:function(e){if(!ae.TAG_BRACKET_REGEXP.test(e))return[e];let t=[],n="",a=!1,s="";for(let r=0;r<e.length;r++){const o=e[r];"<"!==o||a||(a=!0,s=e[r+1],t.push(n),n=""),"/"!==o||"<"!==e[r-1]||">"!==e[r+2]||s!==e[r+1]?(n+=o,n.length>0&&r+1===e.length&&t.push(n)):(t.push(`${n}/${e[r+1]}>`),a=!1,n="",s="",r+=2)}return t.filter((e=>e))}},ie={header:function(e){return e.replace(ae.HEADER_REGEXP,'<h1 class="content_flex">$1</h1>')},bold:function(e){return e.replace(ae.BOLD_REGEXP,'<b class="content_flex">$1</b>')},lineBreak:function(){return'<p class="break"></p>'},listItem:function(e){return e.replace(/.*/,`<ul class="content_flex list"><li>${e.replace("+","")}</li></ul>`)},img:function(e){const t=e.match(ae.IMAGE_REGEXP);let n=0,a=e;for(;t?.[n];){const e=t[n].replace(ae.PAIR_BRACKETS_REGEXP,"$1").split(/;/);a=a.replace(t[n],'<img class="img" src="'+e[1]+'"alt="'+e[0]+'">'),n++}return a},link:function(e){const t=e.match(ae.LINK_REGEXP);let n=0,a=e;for(;t?.[n];){const e=t[n].replace(ae.SQUARE_BRACKETS_REGEXP,"$1").split(/;/);a=a.replace(t[n],'<a class="link content_flex" href="'+e[1]+'">'+e[0]+"</a>"),n++}return a},video:function(e){return`\n        <div style="width: 100%" class="video">\n          <video controls src=${e.replace(/\[(.+)\]/g,"$1")}></video>\n        </div>\n      `},paragraph:function(e){let t="";const n=oe.splitLineOnTags(e);let a,s;for(let r=0;r<n.length;r++)if(a=n[r],ae.TAG_BRACKET_REGEXP.test(a))t+=a;else{s=a.split(" ");for(let e=0;e<s.length;e++)0!==s[e].length&&(t+=`<p>${s[e]}</p>`)}return t}},le={regexp:ae,kind:{BOLD:"BOLD",HEADER:"HEADER",IMG:"IMG",LINK:"LINK",LIST:"LIST",VIDEO:"VIDEO"},is:se,have:re,parseAs:ie,tools:oe};function ce(e){if(!e)return"";let t=e.split("\\n"),n="";1===t.length&&(t=e.split("\n"));for(let a=0;a<t.length;a++)le.have.lineBreak(t[a])?n+=le.parseAs.lineBreak():(le.have.listItem(t[a])&&(t[a]=le.parseAs.listItem(t[a])),le.have.header(t[a])&&(t[a]=le.parseAs.header(t[a])),le.have.bold(t[a])&&(t[a]=le.parseAs.bold(t[a])),le.have.link(t[a])&&(t[a]=le.parseAs.link(t[a])),le.have.img(t[a])&&(t[a]=le.parseAs.img(t[a])),le.have.video(t[a])&&(t[a]=le.parseAs.video(t[a])),le.is.imageTag(t[a])||(t[a]=le.parseAs.paragraph(t[a])),t[a]='<div class="container">'+t[a]+"</div>",n+=t[a]);return n}function de({content:e,className:a}){const s=t.useMemo((()=>ce(e||"")),[e]);return n.jsx("div",{className:`${te} ${a}`,dangerouslySetInnerHTML:s?{__html:s}:void 0,children:0===s.length?n.jsxs("div",{className:`${ne} flex-row-center-center-big`,children:[n.jsx(i,{}),n.jsx("p",{children:"Post is empty"})]}):null})}const me={empty_container:"U"};function ue({label:e,option:t}){let a={fontSize:`${{SMALL:1,MEDIUM:1.25,LARGE:1.5}[t?.size||"MEDIUM"]}rem`,textAlign:{CENTER:"center",LEFT:"left",RIGHT:"right"}[t?.align||"CENTER"],height:{SMALL:"10%",MEDIUM:"50%",FULL:"100%"}[t?.height||"FULL"]};return t?.flexCenterCenter&&(a={...a,display:"flex",alignItems:"center",justifyContent:"center"}),n.jsx("div",{style:a,className:me.empty_container,children:n.jsx("p",{children:e})})}const pe={pagination_list_button:"bc",pagination_curr_page:"cc"};function _e({pagesCount:e,listKey:t}){const{pathname:a}=l(),s=S(),r=`${t||"list"}-page`,o=parseInt(s.get(r)||"0"),i=t=>{if("next"===t){const t=o+1>e-1?o:o+1;s.set({[r]:t})}else{const e=o-1<0?0:o-1;s.set({[r]:e})}},u=e=>{s.set({[r]:e})};return n.jsxs("section",{className:`${pe.pagination_list_container} flex-row-normal-space-between-medium`,children:[n.jsx("button",{onClick:()=>i("preview"),className:`${pe.pagination_list_button} flex-row-center-center-none`,children:n.jsx(c,{})}),n.jsxs("div",{className:"flex-row-normal-normal-none",children:[o-3>=0?n.jsx(d,{className:`${pe.pagination_list_button} flex-row-center-center-none`,to:`${a}?${r}=0`,children:"..."}):null,[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${pe.pagination_list_button} ${o===t?pe.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(o-(1===o?1:2),o),[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${pe.pagination_list_button} ${o===t?pe.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(o,o+1),[...Array(e)].map(((e,t)=>n.jsx("button",{onClick:()=>u(t),className:`${pe.pagination_list_button} ${o===t?pe.pagination_curr_page:""} flex-row-center-center-none`,children:t},t))).slice(o+1,o+3),o+3<e?n.jsx(d,{className:`${pe.pagination_list_button} flex-row-center-center-none`,to:`${a}?${r}=${e-1}`,children:"..."}):null]}),n.jsx("button",{onClick:()=>i("next"),className:`${pe.pagination_list_button} flex-row-center-center-none`,children:n.jsx(m,{})})]})}const he={mutating_loader_container:"V",mutating_loader:"W",left:"X",right:"Y"};function xe(){return n.jsx("div",{className:`${he.mutating_loader_container} flex-row-center-center-none`,children:n.jsx("span",{className:he.mutating_loader})})}const ge="A_",je="B_",fe="C_",be="D_",ye="E_",ve="F_",we={modal_error_container:"J_",modal_error_body:"K_",modal_error_header:"L_",modal_error_text:"M_",modal_error_code:"N_"};function Ne({error:e,removeError:a}){const s=S(),r=JSON.parse(s.get("is-error-modal-open")||"false");return t.useEffect((()=>{e&&s.set({"is-error-modal-open":!0})}),[e]),n.jsx("div",{style:{display:r&&e?"flex":"none"},className:`${we.modal_error_container} flex-row-center-center-none`,children:n.jsxs("div",{className:`${we.modal_error_body} flex-column-normal-normal-none`,children:[n.jsxs("div",{className:`${we.modal_error_header} flex-row-center-space-between-none`,children:[n.jsxs("div",{className:"flex-row-center-center-medium",children:[n.jsx(u,{size:17}),n.jsx("p",{children:"Some error!"})]}),n.jsx(o,{onClick:()=>{s.remove(["is-error-modal-open"]),a&&a()},size:17})]}),n.jsxs("div",{className:we.modal_error_text,children:[n.jsxs("p",{className:we.modal_error_code,children:[e?.code,"!"]}),n.jsx("p",{children:e?.message}),n.jsxs("div",{style:{flexWrap:"wrap",rowGap:"0rem"},className:"flex-row-normal-normal-small",children:[n.jsx("button",{onClick:()=>{window.location.reload()},children:"Refresh"}),n.jsx("p",{children:"the page or write a"}),n.jsx(d,{to:"/",children:"E-mail."})]})]})]})})}const $e=t.memo((function({placeholder:e,defaultValue:a,getValue:s}){const[o,i]=t.useState(a),[l,c]=t.useState(),[d,m]=t.useState(),[u,g]=t.useState(),j=t.useRef(),f=t.useRef(null),b=t.useRef(!1),y=S(),v=JSON.parse(y.get("is-open")||"false"),w=JSON.parse(y.get("is-preview")||"false"),N=t.useCallback((async()=>{const e=function(e){let t={};return e.alt||(t={...t,alt:"Alt is required filed!"}),le.is.secureLink(e.url||"")||e.url||e.asset||(t={...t,url:"URL is not valid!"}),(e.url||"")?.length>0&&e.asset&&(t={...t,url:"Url or Data url is defined!"}),t}({alt:/video/g.test(j.current?.type||"")?"placeholder":d,url:u,asset:j.current}),t=f.current.selectionEnd;if(c(e),!(Object.entries(e).filter((e=>e)).length>0)){if(j.current){b.current=!0;const e=new FormData;let a;e.append("file",j.current);try{a=await async function(e){try{return await A.post("/api/upload",e)}catch(t){throw new Error("Error by uploading img!")}}(e)}catch(n){b.current=!1,c({"upload-error":l.message})}if(/video/g.test(j.current?.type||"")){const e=`${o.substring(0,t)}[${a.assetURL}]${o.substring(t,o.length)}`;i(e),s&&s(e)}else{const e=`${o.substring(0,t)}(${d};${a.assetURL})${o.substring(t,o.length)}`;i(e),s&&s(e)}b.current=!1}else{const e=`${o.substring(0,t)}(${d};${u})${o.substring(t,o.length)}`;i(e),s&&s(e)}m(""),g(""),c({}),j.current=void 0,y.set({"is-open":!1})}}),[d,u,j]);return t.useEffect((()=>{i(a||""),s&&s(a||"")}),[a]),n.jsxs(t.Fragment,{children:[b.current?n.jsx(xe,{}):null,n.jsx(Ne,{error:l?.["upload-error"]}),n.jsxs("div",{className:be,children:[n.jsx("div",{className:v?`${ge} flex-row-center-center-none`:`${ge} ${fe} flex-row-center-center-none`,children:n.jsxs("div",{className:`${je} main-content-container flex-column-normal-normal-small`,children:[n.jsx(V,{errors:l,onInput:e=>{g(e.currentTarget.value)},defaultValue:u||"",name:"url",type:"text",placeholder:"Put you img URL here!"}),n.jsx(V,{errors:l,onInput:e=>{m(e.currentTarget.value)},defaultValue:d||"",name:"alt",type:"text",placeholder:"Put img Alt attributte here!"}),n.jsx(U,{label:"Upload img!",name:"uploadImg",asset:j,initValue:u}),n.jsx("button",{disabled:b.current,type:"button",onClick:N,children:"Add Link"}),n.jsx("button",{type:"button",onClick:()=>{m(""),g(void 0),c({}),y.set({"is-open":!1}),j.current=void 0,s&&s("")},children:"Stop"})]})}),n.jsxs("section",{children:[n.jsx("button",{disabled:w,onClick:()=>{const e=f.current.selectionStart,t=f.current.selectionEnd,n=o.substring(e,t),a=o.replace(n,`#${n}#`);i(a),s&&s(a)},type:"button",className:`${ve} flex-row-center-center-none`,children:n.jsx(p,{})}),n.jsx("button",{disabled:w,onClick:()=>{const e=f.current.selectionStart,t=f.current.selectionEnd,n=o.substring(e,t),a=o.replace(n,`##${n}##`);i(a),s&&s(a)},type:"button",className:`${ve} flex-row-center-center-none`,children:n.jsx(_,{})}),n.jsx("button",{disabled:w,onClick:()=>{const e=f.current.selectionEnd,t=`${o.substring(0,e)}[LINK STRING;LINK URL]${o.substring(e,o.length)}`;i(t),s&&s(t)},type:"button",className:`${ve} flex-row-center-center-none`,children:n.jsx(h,{})}),n.jsx("button",{disabled:w,onClick:()=>{y.set({"is-open":!0})},type:"button",className:`${ve} flex-row-center-center-none`,children:n.jsx(r,{})}),n.jsx("button",{onClick:()=>{const e=JSON.parse(y.get("is-preview")||"false");y.set({"is-preview":!e})},type:"button",className:`${ve} flex-row-center-center-none`,children:n.jsx(x,{})})]}),w?n.jsx(de,{content:o}):n.jsx("textarea",{className:ye,placeholder:e,onChange:e=>{i(e.currentTarget.value),s&&s(e.currentTarget.value)},ref:f,value:o,rows:(o?.split(/\n/)?.length||0)+1})]})]})})),Ee={tag_list:"n_",tag_item:"o_"};function Ce({removeTag:e,tags:t}){return n.jsx("ul",{className:`${Ee.tag_list} flex-row-flex-start-normal-small`,children:t.map((t=>t.trim()?n.jsx("li",{onClick:()=>e(t),className:Ee.tag_item,children:t},t):null))})}function ke({getTags:e,placeholder:a,value:s}){const[r,o]=t.useState(s||[]);return n.jsxs(t.Fragment,{children:[n.jsx(V,{name:"tags",onInput:t=>{const n=t.currentTarget.value.split(/\,/);o(n),e(n)},placeholder:a,defaultValue:r.join(",")}),n.jsx(Ce,{removeTag:t=>{o((n=>{const a=n.filter(((e,a)=>a!==n.indexOf(t)));return e(a),a}))},tags:r})]})}const Re={pagination_button_style:"p_",pagination_button_disabled:"q_",pagination_container:"r_",pagination_body:"s_",pagination_curr_page:"t_"};function Ae({pagesCount:e,disableOn:t}){const{pathname:a}=l(),s=S(),r=parseInt(s.get("page")||"0"),o=t?Re.pagination_button_disabled:"",i=t=>{if("next"===t){const t=r+1>e-1?r:r+1;s.set({page:t})}else{const e=r-1<0?0:r-1;s.set({page:e})}};return n.jsxs("div",{className:`${Re.pagination_container} flex-row-center-space-between-none`,children:[n.jsx("button",{className:`${Re.pagination_button_style} flex-row-center-center-none`,onClick:()=>i("preview"),children:n.jsx(c,{})}),n.jsxs("ul",{className:`${Re.pagination_body} flex-row-center-normal-small`,children:[r>=3?n.jsx(d,{tabIndex:-1,className:`${o} ${Re.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=0`,children:"..."}):null,[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===r?`${o} ${Re.pagination_curr_page} ${Re.pagination_button_style} flex-row-center-center-none`:`${Re.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(r-(1===r?1:2),r),[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===r?`${o} ${Re.pagination_curr_page} ${Re.pagination_button_style} flex-row-center-center-none`:`${Re.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(r,r+1),[...Array(e)].map(((e,t)=>n.jsx("li",{children:n.jsx(d,{tabIndex:-1,className:t===r?`${o} ${Re.pagination_curr_page} ${Re.pagination_button_style} flex-row-center-center-none`:`${Re.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${t}`,children:t})},t))).slice(r+1,r+3),r<=e-4?n.jsx(d,{tabIndex:-1,className:`${o} ${Re.pagination_button_style} flex-row-center-center-none`,to:`${a}?page=${e-1}`,children:"..."}):null]}),n.jsx("button",{className:`${Re.pagination_button_style} flex-row-center-center-none`,onClick:()=>i("next"),children:n.jsx(m,{})})]})}const Ie="C";function Se(e,t){if("object"!=typeof e||Array.isArray(e))return!1;for(let n=0;n<t.length;n++)if(Object.hasOwn(e,t[n]))return!0;return!1}const Le={admin_side_menu_list_container:"qa",admin_side_menu_body:"ra"};function Pe(){const e=g(),t=t=>{e(`/admin/${t}`)};return n.jsxs("div",{className:Le.admin_side_menu_list_container,children:[n.jsx("div",{className:Le.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("post"),className:"flex-row-center-normal-medium",children:[n.jsx(j,{}),n.jsx("p",{children:"Posts"})]})}),n.jsx("div",{className:Le.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("comment"),className:"flex-row-center-normal-medium",children:[n.jsx(f,{}),n.jsx("p",{children:"Comments"})]})}),n.jsx("div",{className:Le.admin_side_menu_body,children:n.jsxs("section",{onClick:()=>t("user"),className:"flex-row-center-normal-medium",children:[n.jsx(b,{}),n.jsx("p",{children:"Users"})]})})]})}const Te={content_author_avatar:"Y_",content_author_name:"Z_",content_author_registrated:"_a",content_content:"-a",content_no_data_about_author:"aa"},Oe={data_wrapper_container:"ac"};function De({children:e,id:t}){const a=S();return n.jsx("div",{onClick:()=>{a.set({id:t})},className:`${Oe.data_wrapper_container} main-content-container`,children:e})}function Ke({contentData:e,authorData:t}){return n.jsx(De,{id:e._id,children:n.jsxs("div",{style:{justifyContent:"space-between"},className:"flex-column-normal-normal-medium",children:[t?n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("img",{className:Te.content_author_avatar,src:t.avatar,alt:t.name}),n.jsxs("div",{className:"flex-column-normal-norma-none",children:[n.jsx("p",{className:Te.content_author_name,children:t.name}),n.jsx("p",{className:Te.content_author_registrated,children:Z.getDifference(e.createdAt)})]})]}):n.jsxs("div",{className:`${Te.content_no_data_about_author} flex-row-center-normal-medium`,children:[n.jsx(y,{}),n.jsxs("div",{children:[n.jsx("p",{children:"Author not found!"}),n.jsx("p",{className:Te.content_author_registrated,children:Z.getDifference(e.createdAt)})]})]}),n.jsx("p",{className:Te.content_content,children:e.content})]})})}const Me={user_preview_author:"U_",user_preview_name:"V_",user_preview_registrated:"W_",user_preview_some_data:"X_"};function Ge({user:e}){const t="Admin"===e.role?"#F48023":"#1682FD";return n.jsx(De,{id:e._id,children:n.jsxs("div",{className:"flex-column-normal-normal-none",children:[n.jsxs("div",{className:"flex-row-normal-normal-medium",children:[n.jsx("img",{className:Me.user_preview_author,src:e.avatar,alt:e.name}),n.jsxs("div",{children:[n.jsx("p",{className:Me.user_preview_name,children:e.name}),n.jsx("p",{className:Me.user_preview_registrated,children:Z.getDifference(e.createdAt)})]})]}),n.jsxs("div",{className:`${Me.user_preview_some_data} flex-row-normal-normal-none`,children:[n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Content:"}),n.jsx("p",{children:(e.myContent||[]).length})]}),n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Liked:"}),n.jsx("p",{children:(e.likedContent||[]).length})]}),n.jsxs("section",{className:"flex-row-normal-normal-medium",children:[n.jsx("p",{children:"Role:"}),n.jsx("p",{style:{color:t},children:e.role})]})]})]})})}const Ve={post_list_container:"fc",post_list_body:"gc",post_auhtor_container:"hc",post_author_data_body:"ic"},Be={data_simple_container:"qc",data_simple_key:"rc",data_simple_copyied:"sc"};function Ue({propKey:e,propValue:a,useParser:s,useCopyBoard:r}){const[o,i]=t.useState(void 0);return t.useEffect((()=>{o&&setTimeout((()=>i(!1)),200)}),[o]),n.jsxs("section",{className:`${Be.data_simple_container} flex-row-center-space-between-none`,children:[n.jsx("p",{className:Be.data_simple_key,children:e}),n.jsxs("div",{className:"flex-row-center-center-medium",children:[s?n.jsx("span",{className:"flex-row-center-center-none",dangerouslySetInnerHTML:{__html:ce(a)}}):n.jsx("p",{className:Be.data_simple_value,children:a}),r?n.jsx(v,{className:o?Be.data_simple_copyied:"",onClick:async()=>{await navigator.clipboard.writeText(a),i(!0)},size:15}):null]})]})}const Xe={modal_wrapper_container:"lc",modal_wrapper_body:"mc",modal_wrapper_header:"nc"},Fe={data_modal_wrapper_container:"vc",data_modal_wrapper_data_body:"wc",data_modal_wrapper_loader_animation:"xc",loader:"yc"},ze={admin_action_button:"Hc"};function He({optionAction:e}){const[a,s]=t.useState(!1),r=S(),o=g(),{tab:l}=w(),c=["user","comment","post"].includes(l||"")?l:"post",d=r.get("id"),m=parseInt(r.get("page")||"0"),{mutate:u}=Y({deps:[]}),p={remove:{icon:n.jsx(N,{color:a?"#8a0000":"white"}),color:"#8a0000"},edit:{icon:n.jsx(i,{color:a?"#F48023":"white"}),color:"#F48023"}},_={backgroundColor:p[e.actionType].color,border:`1px solid ${p[e.actionType].color}`},h=e=>{"mouseleave"===e.type?s(!1):s(!0)};return n.jsx("button",{onMouseEnter:h,onMouseLeave:h,onClick:()=>{if("edit"===e.actionType)return r.set({[`${l}-edit-modal`]:!0});u({key:[`${c}-${m}`],request:async e=>{const t=await A.post(`/admin/remove/${ee(l)}/${d}`,{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return 1===e.state?.data.length?o(`/admin/${l}?page=${m-1<=0?0:m-1}`):o(`/admin/${l}?page=${m}`),{pagesCount:e.state?.pagesCount||0,data:e.state?.data.filter((e=>e._id!==t._id))||[]}}})},style:_,className:`${ze.admin_action_button}`,children:n.jsx("section",{className:"flex-row-center-center-none",children:p[e.actionType].icon})})}function qe(){return n.jsxs("div",{className:`${Fe.data_modal_wrapper_container} flex-column-normal-normal-medium`,children:[n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-15%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(He,{optionAction:{actionType:"remove"}}),n.jsx(He,{optionAction:{actionType:"edit"}})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"2rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"11rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"5rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"9rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"3rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"6rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"11rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"3.5rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"5rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]}),n.jsxs("div",{className:`${Fe.data_modal_wrapper_data_body} flex-row-normal-space-between-none`,children:[n.jsx("div",{style:{width:"4rem"},className:`${Fe.data_modal_wrapper_loader_animation}`}),n.jsx("div",{style:{width:"3rem"},className:`${Fe.data_modal_wrapper_loader_animation}`})]})]})}function Je({Component:e}){const a=S(),{tab:s}=w(),r=["comment","post","user"].includes(s||"")?s:"post",i=a.get("id"),l=a.get("page")||"0",{data:c,isPending:d}=Y({deps:[`${r}-${l}`]}),m=c?.data&&c.data.find((e=>e._id===i));return n.jsxs(t.Fragment,{children:[m||!i||d?null:n.jsx(Ne,{error:{code:404,message:`${ee(r)} not found!`}}),i?n.jsx("div",{className:`${Xe.modal_wrapper_container} flex-row-center-center-none`,children:n.jsxs("div",{className:`${Xe.modal_wrapper_body} main-content-container flex-column-normal-normal-none`,children:[n.jsxs("section",{className:`${Xe.modal_wrapper_header} flex-row-center-space-between-none`,children:[n.jsx("p",{children:ee(r)}),n.jsx(o,{onClick:()=>{a.remove(["id"])},size:17})]}),d?n.jsx(qe,{}):m?e({data:m}):null]})}):null]})}const We={burger_data_wrapper_container:"tc",burger_data_wrapper_key:"uc"};function Ye({propKey:e,children:a}){const[s,r]=t.useState(!1),o=t.useRef(null),i=t.useRef(0),l=t.cloneElement(a,{ref:o});return t.useEffect((()=>{o.current&&(i.current=o.current.getBoundingClientRect().height+7)}),[]),n.jsxs("div",{className:We.burger_data_wrapper_container,children:[n.jsx("p",{onClick:()=>{r((e=>!e))},className:We.burger_data_wrapper_key,children:e}),n.jsx("div",{style:{height:s?i.current:0,overflow:"auto",maxHeight:"15rem",transition:"all 0.2s ease"},children:l})]})}const Qe={data_edit_modal_wrapper:"oc",data_edit_modal_header:"pc"};function Ze({children:e}){const t=S(),{tab:a}=w(),s=JSON.parse(t.get(`${a}-edit-modal`)||"false");return n.jsx("div",{style:{display:s?"flex":"none"},className:`${Qe.data_edit_modal_wrapper} flex-row-center-center-none`,children:n.jsxs("div",{className:"main-content-container",children:[n.jsxs("div",{className:`${Qe.data_edit_modal_header} flex-row-center-space-between-none`,children:[n.jsxs("p",{children:["Edit ",ee(a)]}),n.jsx(o,{onClick:()=>{t.remove([`${a}-edit-modal`])},size:17})]}),e]})})}const et={checkbox_default_input:"zc",checkbox_body:"Ac",checkbox_custom_checkbox_wrapper:"Bc",checkbox_custom_checkbox_body:"Cc"};function tt({defaultValue:e,label:t,name:a}){return n.jsx("div",{style:{width:"100%"},className:"flex-row-center-normal-none",children:n.jsxs("label",{className:`${et.checkbox_body} flex-row-center-normal-medium`,children:[n.jsx("input",{name:a,className:et.checkbox_default_input,type:"checkbox",defaultChecked:e}),n.jsxs("p",{className:et.checkbox_custom_checkbox_wrapper,children:[n.jsx("p",{className:et.checkbox_custom_checkbox_body}),n.jsx($,{})]}),t]})})}function nt(){const e=t.useRef([]),a=t.useRef(),s=S(),{submit:r,reset:o}=D([]),{mutate:i}=Y({deps:[]}),l=parseInt(s.get("views-page")||"0"),c=parseInt(s.get("likes-page")||"0"),m=10*l,u=m+10,p=10*c,_=p+10,h=t=>{i({key:[`post-${s.get("page")||0}`],request:async n=>{const r=await A.post("/admin/post/update",{...t,tags:e.current,content:a.current,id:s.get("id")},{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return o(),s.remove(["post-edit-modal"]),{pagesCount:n.state?.pagesCount||0,data:n.state?.data.map((e=>e._id===r._id?{...e,...r}:e))||[]}}})},x=e=>{a.current=e},g=t=>{e.current=t};return n.jsx(Je,{Component:e=>{const t=e.data.viewedBy?.slice(m,u)||[],a=e.data.likedBy.slice(p,_)||[],s=Math.ceil(t.length/10),o=Math.ceil(a.length/10);return n.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[n.jsx(Ze,{children:n.jsxs(M,{style:{border:"none",width:"30rem",boxShadow:"none",padding:"1rem"},onSubmit:r(h),buttonLabel:"Change post data",children:[n.jsx(V,{name:"title",placeholder:"Write new post title",defaultValue:e.data.title}),n.jsx(tt,{name:"isHidden",label:e.data.isHidden?"Show post":"Hidde post",defaultValue:!0}),n.jsx(ke,{placeholder:"Write new post tags",getTags:g,value:e.data.tags}),n.jsx($e,{placeholder:"Write new post content",defaultValue:e.data.content,getValue:x})]})}),n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(He,{optionAction:{actionType:"remove"}}),n.jsx(He,{optionAction:{actionType:"edit"}})]}),n.jsx(Ye,{propKey:"Auhor:",children:e.data.author?n.jsxs(d,{to:`/admin/user?id=${e.data.author._id}`,className:`${Ve.post_auhtor_container} flex-row-normal-normal-medium`,children:[n.jsx("img",{src:e.data.author.avatar,alt:e.data.author.name}),n.jsxs("div",{className:`${Ve.post_author_data_body} flex-column-normal-normal-none`,children:[n.jsx("p",{children:e.data.author.name}),n.jsx("p",{children:e.data.author.role}),n.jsx("p",{children:Z.getDifference(e.data.author.createdAt)}),n.jsx("p",{children:e.data.author.email})]})]}):n.jsx("div",{children:n.jsx(ue,{option:{size:"SMALL"},label:"No author found!"})})}),n.jsx(Ye,{propKey:"Views:",children:n.jsxs("div",{className:`${Ve.post_list_container} flex-column-normal-normal-none`,children:[s>1?n.jsx(_e,{pagesCount:s,listKey:"views"}):null,0===t.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have viewed!"}):n.jsx("ul",{className:Ve.post_list_body,children:t?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),n.jsx(Ye,{propKey:"Likes:",children:n.jsxs("div",{className:`${Ve.post_list_container} flex-column-normal-normal-none`,children:[o>1?n.jsx(_e,{pagesCount:o,listKey:"likes"}):null,0===a.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have liked!"}):n.jsx("ul",{className:Ve.post_list_body,children:a?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},`${e._id+100*Math.random()}`)})))})]})}),n.jsx(Ue,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),n.jsx(Ue,{propKey:"Title:",propValue:e.data.title}),n.jsx(Ue,{propKey:"Is hidden:",propValue:e.data.isHidden?"Yes":"No"}),n.jsx(Ue,{propKey:"Tags:",propValue:e.data.tags?.join(", ")||"No tags"}),n.jsx(Ue,{propKey:"Created at:",propValue:Z.getDifference(e.data.createdAt)}),n.jsx(Ue,{propKey:"Updated at:",propValue:Z.getDifference(e.data.updatedAt)}),n.jsx(Ue,{propKey:"Content:",propValue:e.data.content,useParser:!0})]})}})}const at={comment_list_container:"Ya",comment_list_body:"Za",comment_auhtor_container:"_c",comment_author_data_body:"-c"};function st(){const{submit:e,reset:a}=D([]),s=S(),r=t.useRef(),{mutate:o}=Y({deps:[]}),i=10*parseInt(s.get("comment-likes-page")||"0"),l=i+10,c=e=>{o({key:[`comment-${s.get("page")||0}`],request:async t=>{const n=await A.post("/admin/comment/update",{...e,content:r.current,id:s.get("id")},{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return a(),s.remove(["comment-edit-modal"]),{pagesCount:t.state?.pagesCount||0,data:t.state?.data.map((e=>e._id===n._id?{...e,...n}:e))||[]}}})},m=e=>{r.current=e};return n.jsx(Je,{Component:t=>{const a=t.data.likedBy.slice(i,l)||[],s=Math.ceil((t.data.likedBy?.length||0)/10);return n.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[n.jsx(Ze,{children:n.jsxs(M,{style:{border:"none",width:"30rem",boxShadow:"none",padding:"1rem"},onSubmit:e(c),buttonLabel:"Change comment data",children:[n.jsx(tt,{label:t.data.isHidden?"Show comment":"Hidde comment",name:"isHidden",defaultValue:t.data.isHidden}),n.jsx($e,{placeholder:"Write new comment content",defaultValue:t.data.content,getValue:m})]})}),n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(He,{optionAction:{actionType:"remove"}}),n.jsx(He,{optionAction:{actionType:"edit"}})]}),n.jsx(Ue,{propKey:"ID:",propValue:t.data._id,useCopyBoard:!0}),n.jsx(Ue,{propKey:"Written at:",propValue:Z.getDifference(t.data.createdAt)}),n.jsx(Ue,{propKey:"Is hidden:",propValue:t.data.isHidden?"Yes":"No"}),n.jsx(Ue,{propKey:"Content:",propValue:t.data.content,useParser:!0}),n.jsx(Ye,{propKey:"Auhor:",children:t.data.author?n.jsxs(d,{to:`/admin/user?id=${t.data.author._id}`,className:`${at.comment_auhtor_container} flex-row-normal-normal-medium`,children:[n.jsx("img",{src:t.data.author.avatar,alt:t.data.author.name}),n.jsxs("div",{className:`${at.comment_author_data_body} flex-column-normal-normal-none`,children:[n.jsx("p",{children:t.data.author.name}),n.jsx("p",{children:t.data.author.role}),n.jsx("p",{children:Z.getDifference(t.data.author.createdAt)}),n.jsx("p",{children:t.data.author.email})]})]}):n.jsx("div",{children:n.jsx(ue,{option:{size:"SMALL"},label:"No author found!"})})}),n.jsx(Ye,{propKey:"Likes:",children:n.jsxs("div",{className:`${at.comment_list_container} flex-row-normal-normal-none`,children:[s>1?n.jsx(_e,{pagesCount:s,listKey:"coment-likes"}):null,0===a.length?n.jsx(ue,{option:{size:"SMALL"},label:"No body have liked!"}):n.jsx("ul",{className:at.comment_list_body,children:a?.map((e=>n.jsx(d,{to:`/admin/user?id=${e._id}`,children:n.jsxs("li",{className:"flex-row-center-normal-medium",children:[n.jsx("img",{src:e.avatar,alt:e.name}),n.jsx("p",{children:e.name})]},e._id+100*Math.random())})))})]})})]})}})}const rt={user_modal_user_content:"Wa",user_modal_data_container:"Xa"},ot={select_list_wrapper:"Dc",select_list_title:"Ec",select_list_item:"Fc",select_list_item_selected:"Gc"};function it({isMultiple:e}){const[a,s]=t.useState([]),r=e=>a.includes(e);return{selected:a,reset:()=>{s([])},SelectInput:function({children:e,title:t}){return n.jsxs("ul",{className:`${ot.select_list_wrapper} main-content-container`,children:[n.jsx("li",{className:ot.select_list_title,children:t}),e]})},SelectItem:function({children:t,value:a}){return n.jsx("li",{onClick:()=>(t=>{s((n=>e&&n.includes(t)?n.filter((e=>e!==t)):e?[...n,t]:n[0]===t?[]:[t]))})(a),className:`${ot.select_list_item} ${r(a)?ot.select_list_item_selected:""}`,children:t})}}}function lt(){const e=S(),t=it({}),a=it({}),{submit:s,reset:r}=D([]),{mutate:o,isMutating:i}=Y({deps:[]}),l=parseInt(e.get("user-content")||"0"),c=parseInt(e.get("my-likes")||"0"),m=10*l,u=m+10,p=10*c,_=p+10,h=n=>{o({key:[`user-${e.get("page")||0}`],request:async s=>{const o=0===t.selected.length?void 0:t.selected[0],i=0===a.selected.length?void 0:a.selected[0],l=await A.post("/admin/user/update",X({...n,id:e.get("id"),role:o,ban:i}),{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`});return t.reset(),a.reset(),r(),e.remove(["user-edit-modal"]),{pagesCount:s.state?.pagesCount||0,data:s.state?.data.map((e=>e._id===l._id?{...e,...l}:e))||[]}}})};return n.jsx(Je,{Component:e=>{const r=e.data.myContent?.slice(m,u)||[],o=e.data.likedContent.slice(p,_)||[],l=Math.ceil(r.length/10),c=Math.ceil(o.length/10);return n.jsxs("div",{style:{width:"30rem",position:"relative"},className:"flex-column-normal-normal-small",children:[n.jsx(Ze,{children:n.jsxs(M,{style:{border:"none",width:"25rem",boxShadow:"none",padding:"1rem"},buttonLabel:"Change user data",onSubmit:s(h),children:[n.jsx(V,{name:"name",placeholder:"Write new user name",defaultValue:e.data.name}),n.jsxs(t.SelectInput,{title:"User roles:",children:[n.jsx(t.SelectItem,{value:"Admin",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(E,{size:15}),n.jsx("p",{children:"Admin"})]})}),n.jsx(t.SelectItem,{value:"Creator",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(C,{size:15}),n.jsx("p",{children:"Creator"})]})}),n.jsx(t.SelectItem,{value:"User",children:n.jsxs("div",{style:{background:"transparent"},className:"flex-row-center-normal-big",children:[n.jsx(k,{size:15}),n.jsx("p",{children:"User"})]})})]}),n.jsxs(a.SelectInput,{title:"Ban for:",children:[n.jsx(a.SelectItem,{value:"1",children:"1 Day"}),n.jsx(a.SelectItem,{value:"7",children:"7 Days"}),n.jsx(a.SelectItem,{value:"14",children:"14 Days"})]}),n.jsx(U,{label:"Change user avatar",name:"avatar",isChange:i})]})}),n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"6px",position:"absolute",right:"-12.5%",zIndex:"-1",top:"-2%"},className:"flex-column-normal-normal-small",children:[n.jsx(He,{optionAction:{actionType:"remove"}}),n.jsx(He,{optionAction:{actionType:"edit"}})]}),n.jsx(Ue,{propKey:"ID:",propValue:e.data._id,useCopyBoard:!0}),n.jsx(Ue,{propKey:"Email:",propValue:e.data.email,useCopyBoard:!0}),n.jsx(Ue,{propKey:"Name:",propValue:e.data.name}),n.jsx(Ue,{propKey:"Role:",propValue:e.data.role}),n.jsx(Ue,{propKey:"Registrated:",propValue:Z.getDifference(e.data.createdAt)}),n.jsx(Ue,{propKey:"Ban for:",propValue:Z.getDifference(e.data.ban)||"Not baned!"}),n.jsx(Ye,{propKey:`${e.data.name} content:`,children:n.jsxs("ul",{className:rt.user_modal_user_content,children:[l>1?n.jsx(_e,{pagesCount:l,listKey:"user-content"}):null,0===r.length?n.jsx(ue,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have no content!"}):r.map((e=>n.jsx(d,{to:`/admin/${Se(e,["viewedBy"])?"post":"comment"}?id=${e._id}`,children:n.jsxs("li",{className:"flex-column-normal-normal-none",children:[n.jsx("h5",{children:e.title}),n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Likes:"}),n.jsx("p",{children:e.likedBy.length})]}),e.viewedBy?n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Views:"}),n.jsx("p",{children:e.viewedBy.length})]}):null,e.comments?n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Comments:"}),n.jsx("p",{children:e.comments.length})]}):null]},e._id)})))]})}),n.jsx(Ye,{propKey:`${e.data.name} likes:`,children:n.jsxs("ul",{className:rt.user_modal_user_content,children:[c>1?n.jsx(_e,{pagesCount:c,listKey:"my-likes"}):null,0===o.length?n.jsx(ue,{option:{flexCenterCenter:!0,size:"SMALL"},label:"User have not liked some one content!"}):o.map((e=>n.jsxs("li",{className:"flex-column-normal-normal-none",children:[n.jsx("h5",{children:e.title}),n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Likes:"}),n.jsx("p",{children:e.likedBy.length})]}),n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Views:"}),n.jsx("p",{children:e.viewedBy.length})]}),n.jsxs("section",{className:`${rt.user_modal_data_container} flex-row-normal-normal-big`,children:[n.jsx("p",{children:"Comments:"}),n.jsx("p",{children:e.comments.length})]})]},e._id)))]})})]})}})}function ct(){const{tab:e}=w(),t=["post","comment","user"].includes(e||"")?e:"post";return n.jsx(n.Fragment,{children:"post"===t?n.jsx(nt,{}):"comment"===t?n.jsx(st,{}):"user"===t?n.jsx(lt,{}):null})}const dt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{tab:e}=w(),t=S(),a=parseInt(t.get("page")||"0"),{isMutating:s,isPending:r,data:o,prev:i,error:l}=Y({deps:[`${e}-${a}`],prev:[`${e}-${0===a?a:a-1}`],request:async()=>await A.get(`/admin/${e}/${a}`,{Authorization:`Bearer ${I.getOne("PR_TOKEN")}`})}),c=o?.pagesCount||i?.pagesCount||0,d=Se(o?.data?.[0]||{},["avatar","email"]);return n.jsxs("div",{className:"flex-row-normal-normal-none",children:[n.jsx(Ne,{error:l}),n.jsx(ct,{}),s?n.jsx(xe,{}):null,500===l?.code?null:403===l?.code?n.jsx(R,{to:"/"}):n.jsxs("div",{style:{paddingRight:"11rem",width:"100%"},className:"flex-column-normal-normal-medium",children:[r?n.jsx(q,{}):n.jsx(Ae,{pagesCount:c}),0===o?.data.length&&n.jsx(ue,{option:{flexCenterCenter:!0},label:"Nothing found..."}),r?n.jsx(W,{}):n.jsx("div",{className:Ie,children:o&&o.data.map((e=>d?n.jsx(Ge,{user:e},e._id):n.jsx(Ke,{contentData:e,authorData:e.author},e._id)))}),r?n.jsx(q,{}):n.jsx(Ae,{pagesCount:c})]}),n.jsx(Pe,{})]})}},Symbol.toStringTag,{value:"Module"}));export{de as C,Z as D,ue as E,M as F,xe as M,_e as P,z as R,V as T,Y as _,ee as a,Ae as b,I as c,q as d,Ce as e,A as f,D as g,U as h,X as i,Ne as j,ke as k,$e as l,W as m,dt as p,S as u};
