const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/page/home.js","assets/js/react.js","assets/js/__commonjsHelpers__.js","assets/js/page/admin.js","assets/css/page/admin.css","assets/css/page/home.css","assets/js/page/post.js","assets/css/page/post.css","assets/js/page/write-new.js","assets/js/page/galery.js","assets/css/page/galery.css","assets/js/page/search.js","assets/css/page/search.css","assets/js/page/website-settings.js","assets/css/page/website-settings.css","assets/css/page/write-new.css","assets/js/page/user.js","assets/css/page/user.css"])))=>i.map(i=>d[i]);
import{j as e,X as s,W as a,L as l,Y as t,r as n,Z as r,_ as i,a as m,I as o,$ as c,a0 as d,y as h,a1 as x,i as j,a2 as u,a3 as p,a4 as N,a5 as f,a6 as g,a7 as w}from"./react.js";import{u as v,U as _,b as y,g as E,k as b,m as S,R as $}from"./page/admin.js";import{a as O,b as I,w as P}from"./page/website-settings.js";import{c as L,W as k}from"./page/write-new.js";import{b as A,I as D,P as R,u as C,E as T,L as M}from"./page/home.js";import{P as z}from"./page/post.js";import{U,a as J}from"./page/user.js";import{L as V}from"./page/galery.js";import"./__commonjsHelpers__.js";import"./page/search.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const F={},W=function(e,s,a){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");l=Promise.all(s.map((e=>{if((e=function(e){return"/"+e}(e))in F)return;F[e]=!0;const s=e.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const t=document.createElement("link");return t.rel=s?"stylesheet":"modulepreload",s||(t.as="script",t.crossOrigin=""),t.href=e,a&&t.setAttribute("nonce",a),document.head.appendChild(t),s?new Promise(((s,a)=>{t.addEventListener("load",s),t.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return l.then((()=>e())).catch((e=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}))},B=I({reducer:O({creator:L,websiteSetting:P})}),G="A",H="B",Y="C",q="D",Z="E",K="F",X="G",Q={loader_container:"Y_",loader_element_animation:"Z_",loader:"_a",loader_button:"-a",loader_avatar:"aa"};function ee(){return e.jsxs("div",{className:Q.loader_container,children:[e.jsx("div",{className:`${Q.loader_element_animation} ${Q.loader_button}`}),e.jsx("div",{className:`${Q.loader_element_animation} ${Q.loader_button}`}),e.jsx("div",{className:`${Q.loader_element_animation} ${Q.loader_avatar}`})]})}function se(){const n=A(),r=v(),i=JSON.parse(r.get(_["IS-SIDE-MENU-OPEN"])||"false"),m=e=>{let s=!1;const a=JSON.parse(r.get(`is-${e}-modal-open`)||"false");s="login"===e?JSON.parse(r.get(_["IS-REGISTRATE-MODAL-OPEN"])||"false"):JSON.parse(r.get(_["IS-LOGIN-MODAL-OPEN"])||"false"),s||r.set({[`is-${e}-modal-open`]:!a})};return e.jsx(e.Fragment,{children:e.jsxs("header",{className:`${Z} flex-row-center-space-between-none`,children:[e.jsxs("div",{style:{width:"100%"},className:"flex-row-center-normal-none",children:[e.jsx("button",{onClick:()=>{const e=JSON.parse(r.get(_["IS-SIDE-MENU-OPEN"])||"false");r.set({[_["IS-SIDE-MENU-OPEN"]]:!e})},className:q,children:i?e.jsx(s,{}):e.jsx(a,{})}),e.jsx(l,{className:Y,to:"/",children:"Ruzzkyi Mir"})]}),n.isAuthPending?e.jsx(ee,{}):n.user?e.jsx("section",{className:`${H} flex-row-center-center-medium`,children:e.jsx(l,{className:X,to:`/user/${n.user._id}`,children:e.jsx(D,{styles:{loader:{width:"2rem",height:"2rem"}},src:n.user.avatar,alt:n.user.name})})}):e.jsxs("section",{className:`${G} flex-row-center-normal-none`,children:[e.jsx("button",{className:"flex-row-center-center-none",onClick:()=>m("registrate"),children:e.jsxs("section",{className:`${K} flex-row-center-normal-medium`,children:[e.jsx(t,{}),"Registrate"]})}),e.jsx("button",{onClick:()=>m("login"),children:"Login"})]})]})})}const ae="e",le="f";function te(){const[s,a]=n.useState(0===window.scrollX);n.useEffect((()=>{document.addEventListener("scroll",(()=>{a(0===document.body.getBoundingClientRect().top)}))}),[]);const l=e=>{const s="top"===e?0:document.body.scrollHeight;window.scrollTo({behavior:"smooth",top:s})};return e.jsx("div",{className:ae,children:e.jsx("div",{className:`${le} flex-row-center-center-none`,children:s?e.jsx(r,{onClick:()=>l("bottom")}):e.jsx(i,{onClick:()=>l("top")})})})}const ne="m",re="n",ie="o",me="p",oe="r",ce="s",de="t",he="u",xe="v",je={side_menu_loader_container:"Wa",side_menu_loader_item:"Xa",loader:"Ya"};function ue(){return e.jsxs("div",{className:je.side_menu_loader_container,children:[e.jsx("div",{className:je.side_menu_loader_item}),e.jsx("div",{className:je.side_menu_loader_item}),e.jsx("div",{className:je.side_menu_loader_item}),e.jsx("div",{className:je.side_menu_loader_item})]})}const pe=[{title:"Admin",path:"/admin/post",icon:e.jsx(x,{className:he})},{title:"Write post",path:"/write-post",icon:e.jsx(j,{className:he})},{title:"Galery",path:"/galery",icon:e.jsx(u,{className:he})}],Ne=[{title:"Write post",path:"/write-post",icon:e.jsx(j,{className:he})}],fe=/[\#\[\]\{\}\(\)]/g,ge=window.matchMedia("(width <= 830px)").matches;function we(){const{pathname:s}=m(),a=o((e=>e.creator)),n=v(),r=A(),i=y(),x=s.search(/post/)>-1,j=!ge||JSON.parse(n.get(_["IS-SIDE-MENU-OPEN"])||"false"),u=[{title:"Home",path:"/",icon:e.jsx(c,{className:he})},{title:"Search",path:"/search",icon:e.jsx(d,{className:he})},{title:"Settings",path:"/setting",icon:e.jsx(h,{className:he})}];i.role(["Admin"]).permited()&&u.push(...pe),i.role(["Creator"]).permited()&&u.push(...Ne);const p=e=>{n.set({[`${e}-modal`]:!JSON.parse(n.get(`${e}-modal`)||"false")}),n.remove([_["IS-SIDE-MENU-OPEN"]])};return e.jsx("div",{style:x&&ge?{paddingLeft:"0rem"}:void 0,className:ne,children:e.jsxs("aside",{className:`${ge?re:""}  ${j?me:`${ie} ${me}`} flex-column-normal-normal-medium`,children:[ge&&r.user?e.jsxs("div",{className:"flex-column-normal-normal-none",children:[e.jsx("p",{className:oe,children:"User"}),e.jsxs(l,{to:`/user/${r.user?._id}`,className:"flex-row-center-normal-medium",children:[e.jsx(D,{classNames:{svg:de,img:de},src:r.user?.avatar,alt:r.user?.name||"User avatar"}),e.jsx("p",{children:r.user?.name})]})]}):ge&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex-row-center-normal-medium",onClick:()=>p("login"),children:[e.jsx(t,{className:he}),e.jsx("p",{children:"Login"})]}),e.jsxs("button",{className:"flex-row-center-normal-medium",onClick:()=>p("registrate"),children:[e.jsx(t,{className:he}),e.jsx("p",{children:"Registrate"})]})]}),e.jsxs("div",{className:"flex-column-normal-normal-none",children:[e.jsx("p",{className:oe,children:"Menu"}),r.isAuthPending?e.jsx(ue,{}):e.jsx("section",{className:"flex-column-normal-normal-small",children:u.map((a=>e.jsxs(l,{className:s.split("/")[1]===a.path.split("/")[1]?`${xe} flex-row-center-normal-medium`:"flex-row-center-normal-medium",to:a.path,children:[a.icon,e.jsx("p",{className:ce,children:a.title})]},a.title)))})]}),a.contentDraft.length>0&&e.jsxs("div",{className:"flex-column-normal-normal-none",children:[e.jsx("p",{className:oe,children:"Draft"}),e.jsx("section",{className:"flex-column-normal-normal-small",children:a.contentDraft.slice(0,5).map((s=>e.jsx(l,{className:ce,to:`/write-post?draft-id=${s._id}`,children:s.content.replace(fe,"").trim()},s._id)))})]})]})})}const ve="_",_e="a";function ye(){return e.jsxs("div",{className:`${ve} flex-row-normal-normal-medium`,children:[e.jsxs("div",{className:`${_e} flex-column-normal-normal-medium`,children:[e.jsx(R,{}),e.jsx(E,{}),e.jsx(R,{}),e.jsx(R,{}),e.jsx(E,{})]}),e.jsx(z,{})]})}const Ee="Z",be="__";function Se(){return C({title:"Finden",description:"Hier kannst du posts mit gegebenen sortierung optionen finden."}),e.jsxs("div",{className:`${Ee} flex-row-normal-normal-medium`,children:[e.jsxs("div",{style:{width:"100%"},className:"flex-column-normal-normal-small",children:[e.jsx(E,{}),e.jsx(R,{}),e.jsx(R,{}),e.jsx(R,{})]}),e.jsxs("div",{style:{height:"fit-content"},className:"main-content-container flex-column-normal-normal-medium",children:[e.jsxs("div",{className:"flex-row-normal-normal-medium",children:[e.jsx("div",{style:{width:"5rem"},className:be}),e.jsx("div",{style:{width:"5rem"},className:be}),e.jsx("div",{style:{width:"5rem"},className:be})]}),e.jsxs("div",{className:"flex-column-normal-normal-medium",children:[e.jsx("div",{style:{width:"100%"},className:be}),e.jsx("div",{style:{width:"100%"},className:be}),e.jsx("div",{style:{width:"100%"},className:be}),e.jsx("div",{style:{width:"100%"},className:be})]}),e.jsxs("div",{className:"flex-row-normal-normal-medium",children:[e.jsx("div",{style:{width:"50%"},className:be}),e.jsx("div",{style:{width:"50%"},className:be})]})]})]})}function $e(){return e.jsxs("div",{style:{width:"100%"},className:"flex-column-center-center-medium",children:[e.jsx(U,{}),e.jsx(J,{})]})}const Oe="g",Ie="h";function Pe(){return C({title:"Admin panel"}),e.jsxs("div",{style:{width:"100%"},className:"flex-row-normal-normal-none",children:[e.jsxs("div",{style:{paddingRight:"11rem",width:"100%"},className:"flex-column-normal-normal-medium",children:[e.jsx(E,{}),e.jsx(b,{}),e.jsx(E,{})]}),e.jsxs("div",{className:`${Oe} flex-column-normal-normal-medium`,children:[e.jsx("div",{style:{width:"100%",height:"2rem"},className:Ie}),e.jsx("div",{style:{width:"100%",height:"2rem"},className:Ie}),e.jsx("div",{style:{width:"100%",height:"2rem"},className:Ie}),e.jsx("div",{style:{width:"100%",height:"2rem"},className:Ie})]})]})}const Le="J",ke="K",Ae="L";function De(){return e.jsxs("div",{className:"flex-column-normal-normal-medium",children:[e.jsxs("div",{className:`${Le}`,children:[e.jsxs("div",{className:`${ke} flex-column-normal-normal-small`,children:[e.jsx("div",{style:{height:"2rem",width:"8rem"},className:Ae}),e.jsx("div",{style:{height:"1.25rem",width:"15rem"},className:Ae})]}),e.jsxs("div",{className:"flex-column-normal-normal-small",children:[e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"7rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"83%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"8rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"99%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"5rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"75%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"10rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"100%"},className:Ae})]})]})]}),e.jsx("div",{className:`${Le}`,children:e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"7rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"50%"},className:Ae})]})}),e.jsx("div",{className:`${Le}`,children:e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"7rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"86%"},className:Ae})]})}),e.jsxs("div",{className:`${Le}`,children:[e.jsxs("div",{className:`${ke} flex-column-normal-normal-small`,children:[e.jsx("div",{style:{height:"2rem",width:"8rem"},className:Ae}),e.jsx("div",{style:{height:"1.25rem",width:"15rem"},className:Ae})]}),e.jsxs("div",{className:"flex-column-normal-normal-small",children:[e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"7rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"83%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"8rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"99%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"5rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"75%"},className:Ae})]}),e.jsxs("div",{className:"flex-row-normal-space-between-medium",children:[e.jsx("div",{style:{height:"2rem",width:"10rem"},className:Ae}),e.jsx("div",{style:{height:"2rem",width:"100%"},className:Ae})]})]})]})]})}function Re({exeptetRoles:s,children:a}){const l=y().role(s).permited();return e.jsx(n.Fragment,{children:l?a:e.jsx(T,{code:403,message:"You have no permission to view this page!"})})}const Ce=n.lazy((()=>W((()=>import("./page/home.js").then((e=>e.p))),__vite__mapDeps([0,1,2,3,4,5])))),Te=n.lazy((()=>W((()=>import("./page/post.js").then((e=>e.p))),__vite__mapDeps([6,1,2,3,4,0,5,7])))),Me=n.lazy((()=>W((()=>import("./page/write-new.js").then((e=>e.p))),__vite__mapDeps([8,1,2,3,4,0,5,9,10,11,12,13,14,15])))),ze=n.lazy((()=>W((()=>import("./page/search.js").then((e=>e.p))),__vite__mapDeps([11,1,2,3,4,0,5,9,10,12])))),Ue=n.lazy((()=>W((()=>import("./page/user.js").then((e=>e.p))),__vite__mapDeps([16,1,2,3,4,0,5,9,10,17])))),Je=n.lazy((()=>W((()=>import("./page/admin.js").then((e=>e.p))),__vite__mapDeps([3,1,2,4])))),Ve=n.lazy((()=>W((()=>import("./page/website-settings.js").then((e=>e.p))),__vite__mapDeps([13,1,2,3,4,14])))),Fe=n.lazy((()=>W((()=>import("./page/galery.js").then((e=>e.p))),__vite__mapDeps([9,1,2,3,4,10])))),We=()=>{const s=o((e=>e.websiteSetting));return document.getElementById("root").style.fontFamily=s.font,e.jsxs(n.Fragment,{children:[e.jsx(se,{}),e.jsxs("div",{className:"flex-row-normal-normal-medium",style:{padding:"0rem 1.5rem 0rem 1rem",flexGrow:"1",backgroundColor:"white"},children:[e.jsx(we,{}),e.jsx("main",{children:e.jsxs(g,{children:[e.jsx(w,{path:"/",element:e.jsx(n.Suspense,{fallback:e.jsx(M,{}),children:e.jsx(Ce,{})})}),e.jsx(w,{path:"/post/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(ye,{}),children:e.jsx(Te,{})})}),e.jsx(w,{path:"/search",element:e.jsx(n.Suspense,{fallback:e.jsx(Se,{}),children:e.jsx(ze,{})})}),e.jsx(w,{path:"/user/:id",element:e.jsx(n.Suspense,{fallback:e.jsx($e,{}),children:e.jsx(Ue,{})})}),e.jsx(w,{path:"/setting",element:e.jsx(n.Suspense,{fallback:e.jsx(De,{}),children:e.jsx(Ve,{})})}),e.jsx(w,{path:"/galery",element:e.jsx(n.Suspense,{fallback:e.jsx(V,{}),children:e.jsx(Fe,{})})}),e.jsx(w,{path:"*",element:e.jsx(T,{code:404,message:"Page not found!",underText:"Site there you search is not implemented or not exist!"})}),e.jsx(w,{path:"/write-post",element:e.jsx(n.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(Re,{exeptetRoles:["Admin","Creator"],children:e.jsx(Me,{})})})}),e.jsx(w,{path:"/admin/:tab",element:e.jsx(n.Suspense,{fallback:e.jsx(Pe,{}),children:e.jsx(Re,{exeptetRoles:["Admin"],children:e.jsx(Je,{})})})})]})})]}),e.jsx(te,{})]})};p(document.getElementById("root")).render(e.jsx(N,{children:e.jsx(S,{children:e.jsx($,{children:e.jsx(f,{store:B,children:e.jsx(We,{})})})})}));
